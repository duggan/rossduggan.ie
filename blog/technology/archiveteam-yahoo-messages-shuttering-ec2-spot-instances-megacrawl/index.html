<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head profile="http://gmpg.org/xfn/11">
	<title>ArchiveTeam + Yahoo Messages Shuttering + EC2 Spot Instances = MegaCrawl | Ross Duggan</title>

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

	<meta name="robots" content="index,follow" />

	<link rel="canonical" href="index.html" />

	<link rel="stylesheet" type="text/css" href="../../../wp-content/themes/thematic/style.css" />

	<link rel="pingback" href="../../../xmlrpc.php" />


<!-- All in One SEO Pack 2.2.6.2 by Michael Torbert of Semper Fi Web Design[220,299] -->
<link rel="author" href="http://duggan/" />
<meta name="description"  content="Update (24th March) Stop your engines! The response has been amazing, in 24 hours we've managed to crawl almost everything, and are processing the final few" />

<link rel="canonical" href="index.html" />
<!-- /all in one seo pack -->
<link rel="alternate" type="application/rss+xml" title="Ross Duggan &raquo; Feed" href="../../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Ross Duggan &raquo; Comments Feed" href="../../../comments/feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Ross Duggan &raquo; ArchiveTeam + Yahoo Messages Shuttering + EC2 Spot Instances = MegaCrawl Comments Feed" href="feed/index.html" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/rossduggan.ie\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.2.4"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='wpt-twitter-feed-css'  href='../../../wp-content/plugins/wp-to-twitter/css/twitter-feed4189.css?ver=4.2.4' type='text/css' media='all' />
<link rel='stylesheet' id='wp-syntax-css-css'  href='../../../wp-content/plugins/wp-syntax/css/wp-syntax5152.css?ver=1.0' type='text/css' media='all' />
<script type='text/javascript' src='../../../wp-includes/js/jquery/jquery4a80.js?ver=1.11.2'></script>
<script type='text/javascript' src='../../../wp-includes/js/jquery/jquery-migrate.min1576.js?ver=1.2.1'></script>
<script type='text/javascript' src='../../../wp-content/plugins/google-analyticator/external-tracking.minb7f2.js?ver=6.4.8'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../../wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Programming is not my idea of &#8220;fun&#8221;' href='../../code/programming-is-not-my-idea-of-fun/index.html' />
<link rel='next' title='Shell blindness' href='../../code/shell-blindness/index.html' />

<link rel='shortlink' href='../../../index93fc.html?p=11530' />
<script type="text/javascript" src="../../../wp-content/plugins/audio-player/assets/audio-playerd88c.js?ver=2.0.4.6"></script>
<script type="text/javascript">AudioPlayer.setup("../../../wp-content/plugins/audio-player/assets/playerd88c.swf?ver=2.0.4.6", {width:"290",animation:"yes",encode:"yes",initialvolume:"60",remaining:"no",noinfo:"no",buffer:"5",checkpolicy:"no",rtl:"no",bg:"E5E5E5",text:"333333",leftbg:"CCCCCC",lefticon:"333333",volslider:"666666",voltrack:"FFFFFF",rightbg:"B4B4B4",rightbghover:"999999",righticon:"333333",righticonhover:"FFFFFF",track:"FFFFFF",loader:"009900",border:"CCCCCC",tracker:"DDDDDD",skip:"666666",pagebg:"FFFFFF",transparentpagebg:"yes"});</script>

	<script type="text/javascript" src="../../../wp-content/themes/thematic/library/scripts/hoverIntent.js"></script>
	<script type="text/javascript" src="../../../wp-content/themes/thematic/library/scripts/superfish.js"></script>
	<script type="text/javascript" src="../../../wp-content/themes/thematic/library/scripts/supersubs.js"></script>
	<script type="text/javascript" src="../../../wp-content/themes/thematic/library/scripts/thematic-dropdowns.js"></script>

	<script type="text/javascript">
		/*<![CDATA[*/
		jQuery.noConflict();
		/*]]>*/
	</script>
	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<!-- Google Analytics Tracking by Google Analyticator 6.4.8: http://www.videousermanuals.com/google-analyticator/ -->
<script type="text/javascript">
    var analyticsFileTypes = [''];
    var analyticsSnippet = 'enabled';
    var analyticsEventTracking = 'enabled';
</script>
<script type="text/javascript">
	var _gaq = _gaq || [];
  
	_gaq.push(['_setAccount', 'UA-3029758-5']);
    _gaq.push(['_addDevId', 'i9k95']); // Google Analyticator App ID with Google
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>

</head>

<body class="single single-post postid-11530 single-format-standard windows unknown-browser">

<div id="wrapper" class="hfeed">   

    <div id="header">
    
        <div id="branding">
	    		
	    		<div id="blog-title"><span><a href="../../../index.html" title="Ross Duggan" rel="home">Ross Duggan</a></span></div>
	    		
	    		<div id="blog-description">Move slow and fix things.</div>

		</div><!--  #branding -->
	    
	    <div id="access">
	    		
	    	<div class="skip-link"><a href="#content" title="Skip navigation to the content">Skip to content</a></div><!-- .skip-link -->
	    		
	    	<div class="menu"></div>
	        
		</div><!-- #access -->
		
		
	</div><!-- #header-->
       
    <div id="main">
    
		<div id="container">
			
						
			<div id="content">
		
    	        
				<div id="nav-above" class="navigation">
					<div class="nav-previous"><a href="../../code/programming-is-not-my-idea-of-fun/index.html" rel="prev"><span class="meta-nav">&laquo;</span> Programming is not my idea of &#8220;fun&#8221;</a></div>
					<div class="nav-next"><a href="../../code/shell-blindness/index.html" rel="next">Shell blindness <span class="meta-nav">&raquo;</span></a></div>
				</div>

			
				<div id="post-11530" class="post-11530 post type-post status-publish format-standard hentry category-technology"><h1 class="entry-title">ArchiveTeam + Yahoo Messages Shuttering + EC2 Spot Instances = MegaCrawl</h1>
<div class="entry-meta"><span class="meta-prep meta-prep-author">By </span><span class="author vcard"><a class="url fn n" href="../../author/duggan/index.html" title="View all posts by Ross">Ross</a></span><span class="meta-sep meta-sep-entry-date"> | </span><span class="meta-prep meta-prep-entry-date">Published: </span><span class="entry-date"><abbr class="published" title="2013-03-23T07:44:09+0100">March 23, 2013</abbr></span></div><!-- .entry-meta -->
					<div class="entry-content">
<p><strong>Update (24th March) Stop your engines!</strong> The response has been amazing, in 24 hours we&#8217;ve managed to crawl almost everything, and are processing the final few batches now! No need for more instances!</p>
<p>I&#8217;ve created a tool to help people who decided to fire up a whole bunch of spot instances slowly trim down their cluster as the workload winds down. <a href="https://github.com/duggan/slayer">Check out Slayer</a>.</p>
<p><a href="../../code/archiveteam-yahoo-messages-followup-success/index.html">See the follow-up post</a>.</p>
<p>Original post:</p>
<hr />
<p>You may have missed the news that <a href="http://ycorpblog.com/2013/03/01/3553567/">Yahoo is shuttering its old message boards</a>, taking a huge amount of Internet history with it. Old news, maybe, but Internet historians (or people&#8217;s family, friends, or just interested parties) should have that data available to them in future.</p>
<p>Here&#8217;s where the <a href="http://archiveteam.org/">Archive Team</a>, fronted by <a href="http://en.wikipedia.org/wiki/Jason_Scott_Sadofsky">Jason Scott</a> (of <a href="http://archive.org/">archive.org</a>) comes to the rescue.</p>
<p>In this instance, the Yahoo Message Boards are shutting down in just <strong>eight days</strong>. There&#8217;s been very little notice and it&#8217;s become a race to try and get the entire history of the boards before they&#8217;re wiped from the Internet. The Archive Team have supplied <a href="http://www.archiveteam.org/index.php?title=ArchiveTeam_Warrior">a virtual appliance</a> for use with Virtualbox, VMware, etc, as a sort of <a href="http://folding.stanford.edu/">folding@home</a> style distributed system. Unfortunately Yahoo is rate limiting, which is making for slow progress even with all those who are helping.</p>
<p>Over at the <a href="http://tracker.archiveteam.org/yahoo-messages/">Archive Tracker</a>, you can see the real time progress of the archival process.</p>
<p>If you can afford to throw a couple of dollars at this and have an AWS account, this is a good opportunity to experiment with spot instances on EC2 &#8211; I did.<br />
I set it up to use micros at a cost of $0.005/hour, which is a good chunk below the standard on demand price for a micro, already quite low. I&#8217;m rocketing my way up the rankings right now (duggan <a href="http://tracker.archiveteam.org/yahoo-messages/#show-all">on the leaderboard.</a>)</p>
<p>To make it super easy, I&#8217;ve thrown together a public AMI (search for 149682410612 or see AMI id list below) which takes a username in the userdata field (if blank it&#8217;ll default to &#8220;hackernews&#8221;).<br />
It&#8217;s just a basic Alestic Ubuntu 12.04 LTS image with some short installation scripts.</p>
<p><strong>Update: </strong> due to demand, I&#8217;ve made the image available in all other regions:</p>
<pre>N. Virginia: ami-2400984d
Ireland: <s>ami-d8d2d8ac</s>
Tokyo: <s>ami-a361e1a2</s>
Singapore: <s>ami-6e703c3c</s>
Sydney: <s>ami-4e0e9f74</s>
Sao Paolo: <s>ami-9d7aa180</s>
N. California: <s>ami-94f6dbd1</s>
Oregon: <s>ami-cf9206ff</s></pre>
<p>All will be called &#8220;ArchiveTeam Warrior Yahoo Messages&#8221; under account <code>149682410612</code> (you can also search for this number in the AMI screen). This means that <strong>you can now run a max of about 800 spot instances per account</strong> (max of 100 per region) without going to Amazon to look for more.</p>
<p>The script for setting up the image (without the scrubbing of history and private keys) <a href="https://gist.github.com/duggan/5226732">can be found here</a>, if you&#8217;d rather not trust my AMI <img src="../../../wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /> It&#8217;s not complex.</p>
<p>Help save a bit of web history!</p>
<p><strong>Note:</strong> The reason I&#8217;m advocating using spot instances to get around the rate limiting, is because I don&#8217;t believe the rate limiting is intentional on Yahoo&#8217;s part (in the context of Archive Team&#8217;s cause), just bureaucratic slowness in removing anti-spam measures. Hopefully they&#8217;ll get on the case next week, but until then, we should do what we can.</p>
<p><strong>Edit:</strong> <a href="https://news.ycombinator.com/item?id=5427758">conroy on Hacker News</a> has provided this little snippet of Python for those who use boto:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="python" style="font-family:monospace;"><span style="color: #ff7700;font-weight:bold;">import</span> boto.<span style="color: black;">ec2</span>
    conn <span style="color: #66cc66;">=</span> boto.<span style="color: black;">ec2</span>.<span style="color: black;">connect_to_region</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">&quot;us-east-1&quot;</span><span style="color: black;">&#41;</span>
    conn.<span style="color: black;">request_spot_instances</span><span style="color: black;">&#40;</span><span style="color: #483d8b;">'0.005'</span><span style="color: #66cc66;">,</span> <span style="color: #483d8b;">'ami-2400984d'</span><span style="color: #66cc66;">,</span>
                                instance_type<span style="color: #66cc66;">=</span><span style="color: #483d8b;">'t1.micro'</span><span style="color: #66cc66;">,</span> user_data<span style="color: #66cc66;">=</span><span style="color: #483d8b;">'USERNAME'</span><span style="color: black;">&#41;</span></pre></td></tr></table></div>

<p>In the comments, Ian McEwan has put together a quick and dirty guide for the AWS uninitiated:</p>
<blockquote><p>a.) the AMI is only in us-east, as far as I can tell<br />
b.) once you have an AWS account, go to the dashboard and to “AMIs” in the sidebar<br />
c.) search “public images” and “all platforms”, wait a while for it to actually finish searching, filter to ‘warrior’, and choose the one that matches the number here<br />
d.) click ‘spot request’ button, fill in form with price/etc. I’d recommend turning “Persistent” on and setting an end date of April 1.<br />
e.) click through and do whatever bits it asks, mostly you don’t need to care<br />
f.) profit</p></blockquote>

											</div><!-- .entry-content -->
					<div class="entry-utility"><span class="cat-links">This entry was posted in <a href="../../category/technology/index.html" rel="category tag">Technology</a></span>. Bookmark the <a href="index.html" title="Permalink to ArchiveTeam + Yahoo Messages Shuttering + EC2 Spot Instances = MegaCrawl">permalink</a>. Both comments and trackbacks are currently closed.</div><!-- .entry-utility -->
				</div><!-- #post -->
		
			<div id="nav-below" class="navigation">
				<div class="nav-previous"><a href="../../code/programming-is-not-my-idea-of-fun/index.html" rel="prev"><span class="meta-nav">&laquo;</span> Programming is not my idea of &#8220;fun&#8221;</a></div>
				<div class="nav-next"><a href="../../code/shell-blindness/index.html" rel="next">Shell blindness <span class="meta-nav">&raquo;</span></a></div>
			</div>

			<div id="comments">





				<div id="comments-list" class="comments">
					<h3><span>14</span> Comments</h3>
				
					<ol>
    	<li id="comment-9392" class="comment c c-y2013 c-m03 c-d23 c-h10 alt depth-1">
    		    		<div class="comment-author vcard"><img alt='' src='//1.gravatar.com/avatar/1945ab4cdb87eaf5a5c906fa884c29f1?s=80&amp;d=mm&amp;r=g' srcset='//1.gravatar.com/avatar/1945ab4cdb87eaf5a5c906fa884c29f1?s=160&amp;d=mm&amp;r=g 2x' class='photo avatar avatar-80 photo' height='80' width='80' /> <span class="fn n"><a href='http://quadhome.com/' rel='external nofollow' class='url url'>Scott Robinson</a></span></div>
    		<div class="comment-meta">Posted March 23, 2013 at 9:02 am <span class="meta-sep">|</span> <a href="#comment-9392" title="Permalink to this comment">Permalink</a></div>
                <div class="comment-content">
        		<p>If the instance dies, will its reserved items or uploads get corrupted?</p>
    		</div>
						</li><!-- #comment-## -->
    	<li id="comment-9394" class="comment c1 c-y2013 c-m03 c-d23 c-h11 depth-1">
    		    		<div class="comment-author vcard"><img alt='' src='//1.gravatar.com/avatar/1f3eb9e24949e3bd232fd2e494a165c7?s=80&amp;d=mm&amp;r=g' srcset='//1.gravatar.com/avatar/1f3eb9e24949e3bd232fd2e494a165c7?s=160&amp;d=mm&amp;r=g 2x' class='photo avatar avatar-80 photo' height='80' width='80' /> <span class="fn n">Andyfoo</span></div>
    		<div class="comment-meta">Posted March 23, 2013 at 10:44 am <span class="meta-sep">|</span> <a href="#comment-9394" title="Permalink to this comment">Permalink</a></div>
                <div class="comment-content">
        		<p>I would really like to support The Archive and run some micros for the megacrawl but I have no experience at all with setting up anything on AWS. Since running the Warrior appliance on my own machine helps only a small bit because of the rate limiting,  any chance you would eloborate a bit how to run your AMI on AWS? Thanks!</p>
    		</div>
						</li><!-- #comment-## -->
    	<li id="comment-9395" class="comment c2 c-y2013 c-m03 c-d23 c-h12 alt depth-1">
    		    		<div class="comment-author vcard"><img alt='' src='//2.gravatar.com/avatar/2b7bac198b8d719b486d570bb8d5173b?s=80&amp;d=mm&amp;r=g' srcset='//2.gravatar.com/avatar/2b7bac198b8d719b486d570bb8d5173b?s=160&amp;d=mm&amp;r=g 2x' class='photo avatar avatar-80 photo' height='80' width='80' /> <span class="fn n">JB</span></div>
    		<div class="comment-meta">Posted March 23, 2013 at 11:19 am <span class="meta-sep">|</span> <a href="#comment-9395" title="Permalink to this comment">Permalink</a></div>
                <div class="comment-content">
        		<p>Where is that AMI? can&#8217;t find it in my aws console&#8230;</p>
    		</div>
						</li><!-- #comment-## -->
    	<li id="comment-9396" class="comment c3 c-y2013 c-m03 c-d23 c-h12 depth-1">
    		    		<div class="comment-author vcard"><img alt='' src='//0.gravatar.com/avatar/fdfbec1bcf7d591ae2790424de4fed26?s=80&amp;d=mm&amp;r=g' srcset='//0.gravatar.com/avatar/fdfbec1bcf7d591ae2790424de4fed26?s=160&amp;d=mm&amp;r=g 2x' class='photo avatar avatar-80 photo' height='80' width='80' /> <span class="fn n">AK</span></div>
    		<div class="comment-meta">Posted March 23, 2013 at 11:53 am <span class="meta-sep">|</span> <a href="#comment-9396" title="Permalink to this comment">Permalink</a></div>
                <div class="comment-content">
        		<p>That&#8217;s a cost I can bear. Someone just has to come up with a tut/walkthrough about how to do it on/with AWS for mere mortals.</p>
    		</div>
						</li><!-- #comment-## -->
    	<li id="comment-9397" class="comment c4 c-y2013 c-m03 c-d23 c-h14 alt depth-1">
    		    		<div class="comment-author vcard"><img alt='' src='//2.gravatar.com/avatar/bb82047b8a0bdf018f053debeb8cf665?s=80&amp;d=mm&amp;r=g' srcset='//2.gravatar.com/avatar/bb82047b8a0bdf018f053debeb8cf665?s=160&amp;d=mm&amp;r=g 2x' class='photo avatar avatar-80 photo' height='80' width='80' /> <span class="fn n"><a href='http://ianmcorvidae.net/' rel='external nofollow' class='url url'>Ian McEWen</a></span></div>
    		<div class="comment-meta">Posted March 23, 2013 at 1:10 pm <span class="meta-sep">|</span> <a href="#comment-9397" title="Permalink to this comment">Permalink</a></div>
                <div class="comment-content">
        		<p>Basic attempt at a &#8220;mere mortals&#8221; version:</p>
<p>a.) the AMI is only in us-east, as far as I can tell<br />
b.) once you have an AWS account, go to the dashboard and to &#8220;AMIs&#8221; in the sidebar<br />
c.) search &#8220;public images&#8221; and &#8220;all platforms&#8221;, wait a while for it to actually finish searching, filter to &#8216;warrior&#8217;, and choose the one that matches the number here<br />
d.) click &#8216;spot request&#8217; button, fill in form with price/etc. I&#8217;d recommend turning &#8220;Persistent&#8221; on and setting an end date of April 1.<br />
e.) click through and do whatever bits it asks, mostly you don&#8217;t need to care<br />
f.) profit</p>
<p>re: retries, the archiveteam tracker will automatically do that via some criteria &#8212; if nothing else, when it runs out of other items to do, AFAICT, it&#8217;ll reassign old ones. Code is on github if someone&#8217;s inspired to go spelunking.</p>
    		</div>
						</li><!-- #comment-## -->
    	<li id="comment-9398" class="comment c5 byuser comment-author- c-y2013 c-m03 c-d23 c-h14 depth-1">
    		    		<div class="comment-author vcard"><img alt='' src='//1.gravatar.com/avatar/4a1f0c59c74338c39c45d245d1ae6021?s=80&amp;d=mm&amp;r=g' srcset='//1.gravatar.com/avatar/4a1f0c59c74338c39c45d245d1ae6021?s=160&amp;d=mm&amp;r=g 2x' class='photo avatar avatar-80 photo' height='80' width='80' /> <span class="fn n"><a href='../../../index.html' rel='external nofollow' class='url url'>Ross</a></span></div>
    		<div class="comment-meta">Posted March 23, 2013 at 1:10 pm <span class="meta-sep">|</span> <a href="#comment-9398" title="Permalink to this comment">Permalink</a></div>
                <div class="comment-content">
        		<p>Scott: it uploads periodically, so only the last batch it was crawling will be lost.</p>
<p>JB: you may need to search under &#8220;all AMIs&#8221;</p>
<p>AK/Andyfoo: I&#8217;ll see what I can come up with.</p>
    		</div>
						</li><!-- #comment-## -->
    	<li id="comment-9401" class="comment c6 c-y2013 c-m03 c-d23 c-h15 alt depth-1">
    		    		<div class="comment-author vcard"><img alt='' src='//0.gravatar.com/avatar/357a20e8c56e69d6f9734d23ef9517e8?s=80&amp;d=mm&amp;r=g' srcset='//0.gravatar.com/avatar/357a20e8c56e69d6f9734d23ef9517e8?s=160&amp;d=mm&amp;r=g 2x' class='photo avatar avatar-80 photo' height='80' width='80' /> <span class="fn n">Mark</span></div>
    		<div class="comment-meta">Posted March 23, 2013 at 2:13 pm <span class="meta-sep">|</span> <a href="#comment-9401" title="Permalink to this comment">Permalink</a></div>
                <div class="comment-content">
        		<p>This sounds like a silly question, but what happens if I request 10 instances instead of the default 1? Will I be doing 10x as much good for the project (at 10x the AWS bill)? Assuming I can afford it, is there a practical limit to how many instances I can run?</p>
    		</div>
						</li><!-- #comment-## -->
    	<li id="comment-9402" class="comment c7 byuser comment-author- c-y2013 c-m03 c-d23 c-h15 depth-1">
    		    		<div class="comment-author vcard"><img alt='' src='//1.gravatar.com/avatar/4a1f0c59c74338c39c45d245d1ae6021?s=80&amp;d=mm&amp;r=g' srcset='//1.gravatar.com/avatar/4a1f0c59c74338c39c45d245d1ae6021?s=160&amp;d=mm&amp;r=g 2x' class='photo avatar avatar-80 photo' height='80' width='80' /> <span class="fn n"><a href='../../../index.html' rel='external nofollow' class='url url'>Ross</a></span></div>
    		<div class="comment-meta">Posted March 23, 2013 at 2:34 pm <span class="meta-sep">|</span> <a href="#comment-9402" title="Permalink to this comment">Permalink</a></div>
                <div class="comment-content">
        		<p>You&#8217;ll be doing about 10x as much good/price, yes!</p>
<p>There&#8217;s a practical limit after which you have to contant Amazon to increase. That limit is 100 spot instances (or 20 on-demand), according to AWS repos on Quora.</p>
    		</div>
						</li><!-- #comment-## -->
    	<li id="comment-9405" class="comment c8 c-y2013 c-m03 c-d23 c-h16 alt depth-1">
    		    		<div class="comment-author vcard"><img alt='' src='//0.gravatar.com/avatar/39a7068dd91c30c33dea4db353d6be02?s=80&amp;d=mm&amp;r=g' srcset='//0.gravatar.com/avatar/39a7068dd91c30c33dea4db353d6be02?s=160&amp;d=mm&amp;r=g 2x' class='photo avatar avatar-80 photo' height='80' width='80' /> <span class="fn n">TryingToHelp</span></div>
    		<div class="comment-meta">Posted March 23, 2013 at 3:26 pm <span class="meta-sep">|</span> <a href="#comment-9405" title="Permalink to this comment">Permalink</a></div>
                <div class="comment-content">
        		<p>Trying to follow the steps you have listed in the gist there, but this fails:</p>
<p># git clone <a href="https://gist.github.com/5226491.git" rel="nofollow">https://gist.github.com/5226491.git</a> setup-config &amp;&amp; cd setup-config<br />
Cloning into setup-config&#8230;<br />
error: The requested URL returned error: 403 Forbidden while accessing <a href="https://gist.github.com/5226491.git/info/refs" rel="nofollow">https://gist.github.com/5226491.git/info/refs</a></p>
<p>fatal: HTTP request failed</p>
<p>Thoughts?</p>
    		</div>
						</li><!-- #comment-## -->
    	<li id="comment-9406" class="comment c9 byuser comment-author- c-y2013 c-m03 c-d23 c-h16 depth-1">
    		    		<div class="comment-author vcard"><img alt='' src='//1.gravatar.com/avatar/4a1f0c59c74338c39c45d245d1ae6021?s=80&amp;d=mm&amp;r=g' srcset='//1.gravatar.com/avatar/4a1f0c59c74338c39c45d245d1ae6021?s=160&amp;d=mm&amp;r=g 2x' class='photo avatar avatar-80 photo' height='80' width='80' /> <span class="fn n"><a href='../../../index.html' rel='external nofollow' class='url url'>Ross</a></span></div>
    		<div class="comment-meta">Posted March 23, 2013 at 3:45 pm <span class="meta-sep">|</span> <a href="#comment-9406" title="Permalink to this comment">Permalink</a></div>
                <div class="comment-content">
        		<p>Could be just a problem using HTTP, I&#8217;ve changed the gist to use a git URI instead, try that.</p>
    		</div>
						</li><!-- #comment-## -->
    	<li id="comment-9411" class="comment c10 c-y2013 c-m03 c-d23 c-h18 alt depth-1">
    		    		<div class="comment-author vcard"><img alt='' src='//0.gravatar.com/avatar/357a20e8c56e69d6f9734d23ef9517e8?s=80&amp;d=mm&amp;r=g' srcset='//0.gravatar.com/avatar/357a20e8c56e69d6f9734d23ef9517e8?s=160&amp;d=mm&amp;r=g 2x' class='photo avatar avatar-80 photo' height='80' width='80' /> <span class="fn n">Mark</span></div>
    		<div class="comment-meta">Posted March 23, 2013 at 5:40 pm <span class="meta-sep">|</span> <a href="#comment-9411" title="Permalink to this comment">Permalink</a></div>
                <div class="comment-content">
        		<p>Including the cost of bandwidth downloading from Yahoo and uploading to Archive Team, how much are each of your instances costing you per day?</p>
    		</div>
						</li><!-- #comment-## -->
    	<li id="comment-9412" class="comment c11 byuser comment-author- c-y2013 c-m03 c-d23 c-h18 depth-1">
    		    		<div class="comment-author vcard"><img alt='' src='//1.gravatar.com/avatar/4a1f0c59c74338c39c45d245d1ae6021?s=80&amp;d=mm&amp;r=g' srcset='//1.gravatar.com/avatar/4a1f0c59c74338c39c45d245d1ae6021?s=160&amp;d=mm&amp;r=g 2x' class='photo avatar avatar-80 photo' height='80' width='80' /> <span class="fn n"><a href='../../../index.html' rel='external nofollow' class='url url'>Ross</a></span></div>
    		<div class="comment-meta">Posted March 23, 2013 at 5:55 pm <span class="meta-sep">|</span> <a href="#comment-9412" title="Permalink to this comment">Permalink</a></div>
                <div class="comment-content">
        		<p>Not 100% sure on the individual cost as I&#8217;m only monitoring aggregate bandwidth and not tracking when instances are killed or reappear, but I&#8217;m running about 300 right now.</p>
<p>That&#8217;s at about $0.003 per hour per instance, and only charged for outgoing bandwidth (about 10 GB for all so far). Ballpark figure is about $23 per day. It&#8217;ll fluctuate up occasionally, but I&#8217;ve set my payment limit to $0.005, so there&#8217;s a roof.</p>
    		</div>
						</li><!-- #comment-## -->
    	<li id="comment-9413" class="comment c12 c-y2013 c-m03 c-d23 c-h20 alt depth-1">
    		    		<div class="comment-author vcard"><img alt='' src='//0.gravatar.com/avatar/39a7068dd91c30c33dea4db353d6be02?s=80&amp;d=mm&amp;r=g' srcset='//0.gravatar.com/avatar/39a7068dd91c30c33dea4db353d6be02?s=160&amp;d=mm&amp;r=g 2x' class='photo avatar avatar-80 photo' height='80' width='80' /> <span class="fn n">TryingToHelp</span></div>
    		<div class="comment-meta">Posted March 23, 2013 at 7:20 pm <span class="meta-sep">|</span> <a href="#comment-9413" title="Permalink to this comment">Permalink</a></div>
                <div class="comment-content">
        		<p>I built 2 CloudFormation templates to allow you to easily spin up a ton of these things across multiple availability zones:</p>
<p>With a keypair ( so you can login to the host)<br />
<a href="http://files.wordsaboutbytes.com/yahoo-messages-save.cf.txt" rel="nofollow">http://files.wordsaboutbytes.com/yahoo-messages-save.cf.txt</a><br />
Without a keypair ( can&#8217;t log in locally, but it will run)<br />
<a href="http://files.wordsaboutbytes.com/yahoo-messages-save-nokeypair.cf.txt" rel="nofollow">http://files.wordsaboutbytes.com/yahoo-messages-save-nokeypair.cf.txt</a></p>
<p>1. Open the console<br />
2. Go to CloudFormation<br />
3. Give your stack a name.<br />
4. Select the file you downloaded from above<br />
5. Click Next.<br />
6. Fill in the parameters here ( # of instances, The nick you want to be tracked with at the archive team site, the spot price you are willing to pay, and optionally a keypair if you selected that file).<br />
7. Check the box at the bottom acknowledging that the template will create IAM resources ( used by the host to bootstrap )<br />
8. Click Continue.<br />
9. Tags if you want, or click continue.<br />
10. Review. Click Continue.<br />
11. Close.</p>
<p>This will launch however many instances you told it to, as t1.micro&#8217;s, as the spot price you set it to. When you want to stop, you just go and delete the stack in this console and everything should go away.</p>
    		</div>
						</li><!-- #comment-## -->
    	<li id="comment-9414" class="comment c13 c-y2013 c-m03 c-d23 c-h20 depth-1">
    		    		<div class="comment-author vcard"><img alt='' src='//0.gravatar.com/avatar/39a7068dd91c30c33dea4db353d6be02?s=80&amp;d=mm&amp;r=g' srcset='//0.gravatar.com/avatar/39a7068dd91c30c33dea4db353d6be02?s=160&amp;d=mm&amp;r=g 2x' class='photo avatar avatar-80 photo' height='80' width='80' /> <span class="fn n">TryingToHelp</span></div>
    		<div class="comment-meta">Posted March 23, 2013 at 7:21 pm <span class="meta-sep">|</span> <a href="#comment-9414" title="Permalink to this comment">Permalink</a></div>
                <div class="comment-content">
        		<p>Oh yeah, the CloudFormation templates I created use the Amazon Linux AMI for each region, so this way the person who created the other AMIs doesn&#8217;t need to worry about maintaining them, or paying for access to them. These are standard across regions, are free, and might work a slight bit better too!</p>
    		</div>
						</li><!-- #comment-## -->
					</ol>

        			<div id="comments-nav-below" class="comment-navigation">
        			     <div class="paginated-comments-links"></div>
                    </div>
					
				</div><!-- #comments-list .comments -->

			




				<div id="trackbacks-list" class="comments">
					<h3><span>One</span> Trackback</h3>
					
					<ol>
    		<li id="comment-9511" class="pingback t14 c-y2013 c-m03 c-d29 c-h00 alt depth-1">
    			<div class="comment-author">By <a href='../../code/archiveteam-yahoo-messages-followup-success/index.html' rel='external nofollow' class='url'>ArchiveTeam Yahoo Messages Followup: Success | Ross Duggan</a> on March 28, 2013 at 11:33 pm</div>
                <div class="comment-content">
    			<p>[&#8230;] response to my post last week was amazing. As I write this, there are nine items left processing out of what ended up being more [&#8230;]</p>
			</div>
</li><!-- #comment-## -->
					</ol>				
					
				</div><!-- #trackbacks-list .comments -->			

				



			</div><!-- #comments -->
		
			</div><!-- #content -->
			
			 
			
		</div><!-- #container -->
		

<div id="primary" class="aside main-aside">
	<ul class="xoxo">
<li id="text-373116971" class="widgetcontainer widget_text"><h3 class="widgettitle">About Me</h3>
			<div class="textwidget"><a href="//stackoverflow.com/users/105546/ross-duggan"><img src="//stackoverflow.com/users/flair/105546.png?theme=clean" width="208" height="58" alt="profile for Ross Duggan at Stack Overflow" title="profile for Ross Duggan at Stack Overflow"></a></script>
<br />
Software developer located in Cork, Ireland.
<br />Works for <a href="https://www.barricade.io/">Barricade</a>. <br />Organizes <a href="http://pubstandards.ie/">Pub Standards.</a> 
<br />
Authored <a href="http://www.noflake.org/">The Noflake Manifesto</a>.
<br />
<br />
Email: ross@duggan.ie
<br />
<br />
I run <a href="http://wthax.org/">wthax.org</a> and  co-founded Ireland's first anime convention, <a href="http://eirtakon.com/">EirtaKon</a>.
<br /><br /></div>
		</li>		<li id="recent-posts-2" class="widgetcontainer widget_recent_entries">		<h3 class="widgettitle">Recent Posts</h3>
		<ul>
					<li>
				<a href="../../misc/in-support-of-the-outrage-machine/index.html">In Support of the Outrage Machine</a>
						</li>
					<li>
				<a href="../../misc/the-web-skills-of-leonardo-da-vinci/index.html">The (Web) Skills of Leonardo da Vinci</a>
						</li>
					<li>
				<a href="../../code/pontoon-a-digital-ocean-cli-and-library-in-python/index.html">Pontoon &#8211; A Digital Ocean CLI (and library) in Python</a>
						</li>
					<li>
				<a href="../../programming/pivoting-yourself/index.html">Pivoting yourself</a>
						</li>
					<li>
				<a href="../../code/musical-floppy-drive-maintenance-flop-py/index.html">Musical floppy drive maintenance &#8211; flop.py</a>
						</li>
				</ul>
		</li>
	</ul>
</div><!-- #primary .aside -->

<div id="secondary" class="aside main-aside">
	<ul class="xoxo">
<li id="recent-comments-2" class="widgetcontainer widget_recent_comments"><h3 class="widgettitle">Recent Comments</h3>
<ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link"><a href='index.html' rel='external nofollow' class='url'>ArchiveTeam + Yahoo Messages Shuttering + EC2 Spot Instances = MegaCrawl | Ross Duggan</a></span> on <a href="../../code/archiveteam-yahoo-messages-followup-success/comment-page-1/index.html#comment-12917">ArchiveTeam Yahoo Messages Followup: Success</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://regulargeek.com/2013/05/13/geek-reading-may-13-2013/' rel='external nofollow' class='url'>Geek Reading May 13, 2013 | Regular Geek</a></span> on <a href="../../programming/pivoting-yourself/comment-page-1/index.html#comment-11842">Pivoting yourself</a></li><li class="recentcomments"><span class="comment-author-link">Jimmy Tang</span> on <a href="../../code/shell-blindness/comment-page-1/index.html#comment-9718">Shell blindness</a></li><li class="recentcomments"><span class="comment-author-link"><a href='../../code/archiveteam-yahoo-messages-followup-success/index.html' rel='external nofollow' class='url'>ArchiveTeam Yahoo Messages Followup: Success | Ross Duggan</a></span> on <a href="comment-page-1/index.html#comment-9511">ArchiveTeam + Yahoo Messages Shuttering + EC2 Spot Instances = MegaCrawl</a></li><li class="recentcomments"><span class="comment-author-link">TryingToHelp</span> on <a href="comment-page-1/index.html#comment-9414">ArchiveTeam + Yahoo Messages Shuttering + EC2 Spot Instances = MegaCrawl</a></li></ul></li><li id="categories-2" class="widgetcontainer widget_categories"><h3 class="widgettitle">Categories</h3>
		<ul>
	<li class="cat-item cat-item-11"><a href="../../category/arduino/index.html" >Arduino</a>
</li>
	<li class="cat-item cat-item-9"><a href="../../category/boardsie/index.html" >Boards.ie</a>
</li>
	<li class="cat-item cat-item-5"><a href="../../category/books/index.html" title="Things that are still printed on paper for the moment.">Books</a>
</li>
	<li class="cat-item cat-item-13"><a href="../../category/code/index.html" >Code</a>
</li>
	<li class="cat-item cat-item-7"><a href="../../category/codetry/index.html" title="Code, Poetry, Trying Code, Codetry!">Codetry</a>
</li>
	<li class="cat-item cat-item-6"><a href="../../category/events/index.html" title="Stuff that happens out in the Real World.">Events</a>
</li>
	<li class="cat-item cat-item-14"><a href="../../category/infrastructure/index.html" >Infrastructure</a>
</li>
	<li class="cat-item cat-item-1"><a href="../../category/misc/index.html" title="Lazy day at the categorization office.">Miscellaneous</a>
</li>
	<li class="cat-item cat-item-15"><a href="../../category/programming/index.html" >Programming</a>
</li>
	<li class="cat-item cat-item-8"><a href="../../category/technology/index.html" title="General technology topics.">Technology</a>
</li>
		</ul>
</li><li id="linkcat-4" class="widgetcontainer widget_links"><h3 class="widgettitle">Development</h3>

	<ul class='xoxo blogroll'>
<li><a href="http://aidanwalsh.net/" rel="contact">Aidan Walsh</a></li>
<li><a href="http://websitedoctor.com/">Alastair McDermott</a></li>
<li><a href="http://blog.benmcredmond.com/">Ben McRedmond</a></li>
<li><a href="http://www.bytesurgery.com/">ByteSurgery</a></li>
<li><a href="http://mcdermottroe.com/blog">Conor McDermottroe</a></li>
<li><a href="http://contrast.ie/blog">Contrast</a></li>
<li><a href="http://antidis.com/blog/">Dave Barrett</a></li>
<li><a href="http://www.apeofsteel.com/">Dave Concannon</a></li>
<li><a href="http://blog.echolibre.com/">EchoLibre</a></li>
<li><a href="http://codinghorror.com/">Jeff Atwood</a></li>
<li><a href="http://johnbreslin.com/blog">John Breslin</a></li>
<li><a href="http://taint.org/">Justin Mason</a></li>
<li><a href="http://blog.multiblah.com/">Kevin Cannon</a></li>
<li><a href="http://stochasticgeometry.ie/">Mark Dennehy</a></li>
<li><a href="http://mattfinucane.ie/">Matt Finucane</a></li>
<li><a href="http://www.mneylon.com/blog/">Michele Neylon</a></li>
<li><a href="http://socialmedia.net/">SocialMedia.net</a></li>
<li><a href="http://stochasticgeometry.wordpress.com/">Stochastic Geometry</a></li>
<li><a href="http://www.webstrong.ie/blog/">Webstrong</a></li>

	</ul>
</li>
<li id="linkcat-3" class="widgetcontainer widget_links"><h3 class="widgettitle">Recreational</h3>

	<ul class='xoxo blogroll'>
<li><a href="http://hairyfish.org/">Ben Kenealy</a></li>
<li><a href="http://blog.boards.ie/">Boards.ie Blog</a></li>
<li><a href="http://thisiswhatido.org/">Darragh Doyle</a></li>
<li><a href="http://universitydiary.wordpress.com/">Ferdinand von Prondzynski</a></li>
<li><a href="http://headrambles.com/">Head Rambles</a></li>
<li><a href="http://irishsentinel.com/">The Irish Sentinel</a></li>

	</ul>
</li>
<li id="linkcat-8" class="widgetcontainer widget_links"><h3 class="widgettitle">Technology</h3>

	<ul class='xoxo blogroll'>
<li><a href="http://www.yourtechstuff.com/" title="Techwire">Adrian Weckler</a></li>
<li><a href="http://www.insideview.ie/">Bernie Goldbach</a></li>
<li><a href="http://mulley.net/">Damien Mulley</a></li>
<li><a href="http://siliconrepublic.com/">Silicon Republic</a></li>

	</ul>
</li>
<li id="text-434215201" class="widgetcontainer widget_text">			<div class="textwidget"></div>
		</li>
	</ul>
</div><!-- #secondary .aside -->

    </div><!-- #main -->
    
        

	<div id="footer">
    
            
        <div id="siteinfo">        

    	Powered by <a class="wp-link" href="http://wordpress.org/" title="WordPress" rel="generator">WordPress</a>. Built on the <a class="theme-link" href="http://themeshaper.com/thematic/" title="Thematic Theme Framework" rel="designer">Thematic Theme Framework</a>.    
		</div><!-- #siteinfo -->
    
    	        
	</div><!-- #footer -->
	
    </div><!-- #wrapper .hfeed -->  

<!-- Powered by WPtouch: 3.7.6 --><script type='text/javascript' src='../../../wp-includes/js/comment-reply.min4189.js?ver=4.2.4'></script>

</body>

<!-- Mirrored from rossduggan.ie/blog/technology/archiveteam-yahoo-messages-shuttering-ec2-spot-instances-megacrawl/ by HTTrack Website Copier/3.x [XR&CO'2010], Thu, 20 Aug 2015 21:22:42 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Page Caching using apc
Database Caching 6/14 queries in 0.094 seconds using memcached
Object Caching 1196/1235 objects using memcached

 Served from: rossduggan.ie @ 2015-08-20 22:22:18 by W3 Total Cache -->