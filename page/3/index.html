<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head profile="http://gmpg.org/xfn/11">
	<title>Ross Duggan - Part 3</title>

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

	<meta name="description" content="Move slow and fix things." />

	<meta name="robots" content="index,follow" />

	<link rel="stylesheet" type="text/css" href="../../wp-content/themes/thematic/style.css" />

	<link rel="pingback" href="../../xmlrpc.php" />


<!-- All in One SEO Pack 2.2.6.2 by Michael Torbert of Semper Fi Web Design[220,275] -->
<link rel='prev' href='../2/index.html' />
<link rel='next' href='../4/index.html' />

<link rel="canonical" href="index.html" />
<!-- /all in one seo pack -->
<link rel="alternate" type="application/rss+xml" title="Ross Duggan &raquo; Feed" href="../../feed/index.html" />
<link rel="alternate" type="application/rss+xml" title="Ross Duggan &raquo; Comments Feed" href="../../comments/feed/index.html" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/rossduggan.ie\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.2.4"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='wpt-twitter-feed-css'  href='../../wp-content/plugins/wp-to-twitter/css/twitter-feed4189.css?ver=4.2.4' type='text/css' media='all' />
<link rel='stylesheet' id='wp-syntax-css-css'  href='../../wp-content/plugins/wp-syntax/css/wp-syntax5152.css?ver=1.0' type='text/css' media='all' />
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery4a80.js?ver=1.11.2'></script>
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery-migrate.min1576.js?ver=1.2.1'></script>
<script type='text/javascript' src='../../wp-content/plugins/google-analyticator/external-tracking.minb7f2.js?ver=6.4.8'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml" /> 

<script type="text/javascript" src="../../wp-content/plugins/audio-player/assets/audio-playerd88c.js?ver=2.0.4.6"></script>
<script type="text/javascript">AudioPlayer.setup("../../wp-content/plugins/audio-player/assets/playerd88c.swf?ver=2.0.4.6", {width:"290",animation:"yes",encode:"yes",initialvolume:"60",remaining:"no",noinfo:"no",buffer:"5",checkpolicy:"no",rtl:"no",bg:"E5E5E5",text:"333333",leftbg:"CCCCCC",lefticon:"333333",volslider:"666666",voltrack:"FFFFFF",rightbg:"B4B4B4",rightbghover:"999999",righticon:"333333",righticonhover:"FFFFFF",track:"FFFFFF",loader:"009900",border:"CCCCCC",tracker:"DDDDDD",skip:"666666",pagebg:"FFFFFF",transparentpagebg:"yes"});</script>

	<script type="text/javascript" src="../../wp-content/themes/thematic/library/scripts/hoverIntent.js"></script>
	<script type="text/javascript" src="../../wp-content/themes/thematic/library/scripts/superfish.js"></script>
	<script type="text/javascript" src="../../wp-content/themes/thematic/library/scripts/supersubs.js"></script>
	<script type="text/javascript" src="../../wp-content/themes/thematic/library/scripts/thematic-dropdowns.js"></script>

	<script type="text/javascript">
		/*<![CDATA[*/
		jQuery.noConflict();
		/*]]>*/
	</script>
	<style type="text/css">.recentcomments a{display:inline !important;padding:0 !important;margin:0 !important;}</style>
<!-- Google Analytics Tracking by Google Analyticator 6.4.8: http://www.videousermanuals.com/google-analyticator/ -->
<script type="text/javascript">
    var analyticsFileTypes = [''];
    var analyticsSnippet = 'enabled';
    var analyticsEventTracking = 'enabled';
</script>
<script type="text/javascript">
	var _gaq = _gaq || [];
  
	_gaq.push(['_setAccount', 'UA-3029758-5']);
    _gaq.push(['_addDevId', 'i9k95']); // Google Analyticator App ID with Google
	_gaq.push(['_trackPageview']);

	(function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		                ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		                var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
</script>

</head>

<body class="home blog paged paged-3 windows unknown-browser">

<div id="wrapper" class="hfeed">   

    <div id="header">
    
        <div id="branding">
	    		
	    		<div id="blog-title"><span><a href="../../index.html" title="Ross Duggan" rel="home">Ross Duggan</a></span></div>
	    		
	    		<h1 id="blog-description">Move slow and fix things.</h1>

		</div><!--  #branding -->
	    
	    <div id="access">
	    		
	    	<div class="skip-link"><a href="#content" title="Skip navigation to the content">Skip to content</a></div><!-- .skip-link -->
	    		
	    	<div class="menu"></div>
	        
		</div><!-- #access -->
		
		
	</div><!-- #header-->
       
    <div id="main">
    
		<div id="container">
	
				
			<div id="content">

				
				<div id="nav-above" class="navigation">
               		  
					<div class="nav-previous"><a href="../4/index.html" ><span class="meta-nav">&laquo;</span> Older posts</a></div>
					<div class="nav-next"><a href="../2/index.html" >Newer posts <span class="meta-nav">&raquo;</span></a></div>
										
				</div>	
	

				<div id="post-10586" class="post-10586 post type-post status-publish format-standard hentry category-technology"><h2 class="entry-title"><a href="../../blog/technology/munin-plugins-for-solr/index.html" title="Permalink to Munin plugins for Solr" rel="bookmark">Munin plugins for Solr</a></h2>
<div class="entry-meta"><span class="meta-prep meta-prep-author">By </span><span class="author vcard"><a class="url fn n" href="../../blog/author/duggan/index.html" title="View all posts by Ross">Ross</a></span><span class="meta-sep meta-sep-entry-date"> | </span><span class="meta-prep meta-prep-entry-date">Published: </span><span class="entry-date"><abbr class="published" title="2011-07-18T22:20:53+0100">July 18, 2011</abbr></span></div><!-- .entry-meta -->
					<div class="entry-content">
<p>I&#8217;ve been mucking around with Python recently and have written a couple of simple <a href="http://en.wikipedia.org/wiki/Munin_(network_monitoring_application)">Munin</a> plugins for <a href="../../blog/technology/searching-boards-ie-solr-ec2-sqs-sns-node-js/index.html">Boards.ie&#8217;s Solr cluster</a> (in the hope of helping to track down some annoying performance bugs).</p>
<p>If you&#8217;re not familiar with Munin, it&#8217;s a bit like Nagios, (and if you haven&#8217;t heard of Nagios, it&#8217;s a network monitoring tool). Munin is particularly nifty because it&#8217;s easily extensible in pretty much any language that takes your fancy; Perl seems to be the favorite, but Python is also used.</p>
<p>You can <a href="https://github.com/distilledmedia/munin-plugins/tree/master/solr">check out the plugins on Distilled&#8217;s Github account</a> (parent company of Adverts.ie, Boards.ie, Daft.ie and TheJournal.ie).</p>
<p>There&#8217;s a bunch more there that <a href="http://www.mcdermottroe.com/">Conor McDermottroe</a> has written for MySQL, Snort, IMPI and FreeBSD too which you might also be interested in!</p>
<p><strong>Edit (2012-11-06):</strong> Github user kura has written an installer for these plugins available here: <a href="https://github.com/kura/solr-munin">https://github.com/kura/solr-munin</a></p>

										</div><!-- .entry-content -->
					<div class="entry-utility"><span class="cat-links">Posted in <a href="../../blog/category/technology/index.html" rel="category tag">Technology</a></span> <span class="meta-sep meta-sep-tag-links">|</span> <span class="comments-link comments-closed-link">Comments closed</span></div><!-- .entry-utility -->
				</div><!-- #post -->

			
				<div id="post-10520" class="post-10520 post type-post status-publish format-standard hentry category-technology"><h2 class="entry-title"><a href="../../blog/technology/google-plus/index.html" title="Permalink to Google Plus" rel="bookmark">Google Plus</a></h2>
<div class="entry-meta"><span class="meta-prep meta-prep-author">By </span><span class="author vcard"><a class="url fn n" href="../../blog/author/duggan/index.html" title="View all posts by Ross">Ross</a></span><span class="meta-sep meta-sep-entry-date"> | </span><span class="meta-prep meta-prep-entry-date">Published: </span><span class="entry-date"><abbr class="published" title="2011-07-04T23:35:06+0100">July 4, 2011</abbr></span></div><!-- .entry-meta -->
					<div class="entry-content">
<p>I&#8217;ve been playing on and off with Google&#8217;s new toy, <a href="http://plus.google.com/">Google+</a>, for the last few days and while there are a plethora of opinion pieces all over the place, I figure what the hell, one more can&#8217;t really hurt (especially a nice short one that isn&#8217;t too gushing.)</p>
<h3>The Bad</h3>
<p>I think one way in which Google really dropped the ball is that <strong>Google Apps customers are having serious difficulties using the service</strong>. Google is undergoing a massive effort to unify various types of accounts over their network and are mucking it up quite badly for such a smart group of people. They risk alienating some of their most committed users; heck, they&#8217;re alienating the minority of users who actually <em>pay</em>.</p>
<p>Something else I&#8217;ve heard is that <strong>Google should have gone to more effort to allow <em>groups</em> of people to sign up</strong> &#8211; after all, critical mass is what is going to make this thing successful. Coming back to Google Apps, they had an excellent opportunity to pre-authenticate all Google Apps account holders for the service, thus enabling entire <em>already dedicated</em> groups to bootstrap the service.</p>
<p>Sparks feels like a bit of a miss. I&#8217;m not quite sure what mix of keywords is going to give me stuff I <em>should</em> know about. I&#8217;m probably trying too hard to recreate the experience of <a href="http://news.ycombinator.com/">hackernews</a> or <a href="http://techmeme.com/">Techmeme</a>, but since I don&#8217;t know what &#8220;topic&#8221; to pick and I&#8217;m not sure how the results are populated, it feels&#8230; off.</p>
<h3>The Good</h3>
<p>Having the Google+ notification bar as part of my GMail bar is inspired<em>.</em> It&#8217;s amazing how in many ways this is not all that different from the time Buzz was lodged below our inboxes &#8211; yet it just feels so much more appropriate.</p>
<p>The interface is finally something between the dorky, utilitarian UI of older products and the sweeping strokes of pastel colours, Helveticaesque typefaces and thick lines we&#8217;ve become more familiar with in the last few years.</p>
<p>Profiles are very nicely executed. There&#8217;s just the right amount of subtle completionist bait to encourage people to add more information and fill out more circles, but without feeling like you&#8217;re being pressured into it (a la LinkedIn).</p>
<p>It feels like it has the opportunity to be a <em>richer</em> experience than Twitter (who are struggling to fit the rich world of the web into their 140 character ethos), while retaining the serendipity of interaction with strangers (for want of a more appropriate term) that isn&#8217;t really available with Facebook. It doesn&#8217;t seem like it would <em>replace</em> the organic, real time stream that is Twitter; but it might supplant a good portion of my (admittedly low) Facebook usage.</p>
<p>Overall, I think if the bootstrapping issues can be addressed then this is going to be a really useful addition to the space that Facebook, Twitter and LinkedIn occupy.</p>

										</div><!-- .entry-content -->
					<div class="entry-utility"><span class="cat-links">Posted in <a href="../../blog/category/technology/index.html" rel="category tag">Technology</a></span> <span class="meta-sep meta-sep-tag-links">|</span> <span class="comments-link comments-closed-link">Comments closed</span></div><!-- .entry-utility -->
				</div><!-- #post -->

			
				<div id="post-10485" class="post-10485 post type-post status-publish format-standard hentry category-technology"><h2 class="entry-title"><a href="../../blog/technology/getting-windows-7-onto-a-usb-stick-using-ubuntu/index.html" title="Permalink to Getting Windows 7 onto a USB stick using Ubuntu" rel="bookmark">Getting Windows 7 onto a USB stick using Ubuntu</a></h2>
<div class="entry-meta"><span class="meta-prep meta-prep-author">By </span><span class="author vcard"><a class="url fn n" href="../../blog/author/duggan/index.html" title="View all posts by Ross">Ross</a></span><span class="meta-sep meta-sep-entry-date"> | </span><span class="meta-prep meta-prep-entry-date">Published: </span><span class="entry-date"><abbr class="published" title="2011-06-24T23:00:26+0100">June 24, 2011</abbr></span></div><!-- .entry-meta -->
					<div class="entry-content">
<p>I spent <em>way</em> too much time trying to do this so maybe this will save someone else some time.</p>
<p>I haven&#8217;t owned a copy of Windows for years, and have been using Ubuntu as my solitary home and office OS for some time. Last week though, I decided I should have a copy of Windows 7 since there&#8217;s some software I can&#8217;t run without it (my hardware is pretty new, and it seems to take Linux about 6-12 months to catch up with changes in hardware, especially graphics).</p>
<p>So, after a bit of hunting, I discovered it was possible to purchase Windows 7 in downloadable ISO format at <a href="http://emea.microsoftstore.com/">http://emea.microsoftstore.com</a></p>
<p>Great, I thought, that&#8217;s pretty progressive of Microsoft! Unfortunately their helpfulness ends there, as the only instructions for actually using the ISO revolve around DVD burners and/or assume you already have Windows (of some sort) installed. I didn&#8217;t buy a DVD drive with my last computer build because I haven&#8217;t actually needed to use one for a long time.</p>
<p>So, if, like me, you have Ubuntu as your only OS and no DVD drive, it seems like you&#8217;re kinda up the creek. Fortunately, this is actually pretty easily remedied. This guide does assume some familiarity with both Ubuntu and partitioning and I&#8217;m not big on tech support, so consider yourself forewarned <img src="../../wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p>You need:</p>
<ol>
<li>A USB key that you can afford to wipe completely (at least 4GB)</li>
<li>Your Windows 7 ISO of choice (32 bit and 64 bit varieties are available from the store) and the serial (it&#8217;ll be emailed to you).</li>
<li>A connection to the Internet on your Ubuntu machine (or just read the guide and preinstall anything you see mentioned)</li>
<li>A willingness to nuke whatever OS you already have installed, because Windows takes no prisoners (blindly overwrites the Master Boot Record).</li>
</ol>
<p>Now, technically 4 can be alleviated by recovering grub, but it&#8217;s a bit of a roundabout process, and my Ubuntu machines are all basically thin clients. Important documents are stored in Dropbox, my code is on Github, my music, etc is on external drives and almost everything else is also stored remotely or run in the browser. If you don&#8217;t want to lose your Ubuntu install, I imagine <a href="https://help.ubuntu.com/community/WindowsDualBoot">the guide on the Ubuntu Community Wiki</a> is where you&#8217;ll want to look after this.</p>
<p><strong>Important:</strong> when you&#8217;re downloading the ISO, do not bother with &#8220;Part 1&#8243; &#8211; it is a boot sector editor for Windows and will be useless to you. Download only &#8220;Part 2&#8243; as it&#8217;s the ISO (you can only do this about three times, so try to download and store the ISO the first time round).</p>
<h3>Partitioning the USB key</h3>
<p>We&#8217;re going to prepare this USB key with <strong>gparted</strong>. Disk Utility won&#8217;t do (since it won&#8217;t allow you to set a device as bootable). You might have this installed already, but if you&#8217;re running a fairly fresh copy of Ubuntu, you&#8217;ll need to install this using Synaptic. Once it&#8217;s installed, you should find it under System-&gt;Adminstration-&gt;GParted Partition Editor.<br />
Insert your USB key, start up Gparted and select the key from the drop down in the top right. It&#8217;ll be something like <code>/dev/sdc</code>, with the size of the drive in brackets next to it.<br />
Delete any partitions that are on the drive, and create a new NTFS one, applying the changes.<br />
Right click on the device, and select &#8220;manage flags&#8221;. Set the &#8220;boot&#8221; flag and nothing else.</p>
<h3>Extracting the ISO</h3>
<p>You may need to eject and re-insert the drive for it to appear, at this point you need to open up your freshly downloaded ISO using the Archive Manager. Do not &#8220;mount&#8221; the ISO as it will not be usable.<br />
Extract the contents of the archive straight onto your newly formatted (and bootable) USB key. Once this is completed, eject the drive and voila, you have a bootable USB key with Windows 7 on it!</p>

										</div><!-- .entry-content -->
					<div class="entry-utility"><span class="cat-links">Posted in <a href="../../blog/category/technology/index.html" rel="category tag">Technology</a></span> <span class="meta-sep meta-sep-tag-links">|</span> <span class="comments-link comments-closed-link">Comments closed</span></div><!-- .entry-utility -->
				</div><!-- #post -->

			
				<div id="post-10404" class="post-10404 post type-post status-publish format-standard hentry category-technology"><h2 class="entry-title"><a href="../../blog/technology/searching-boards-ie-solr-ec2-sqs-sns-node-js/index.html" title="Permalink to Searching Boards.ie &#8211; Solr, EC2, SQS, SNS, Node.js" rel="bookmark">Searching Boards.ie &#8211; Solr, EC2, SQS, SNS, Node.js</a></h2>
<div class="entry-meta"><span class="meta-prep meta-prep-author">By </span><span class="author vcard"><a class="url fn n" href="../../blog/author/duggan/index.html" title="View all posts by Ross">Ross</a></span><span class="meta-sep meta-sep-entry-date"> | </span><span class="meta-prep meta-prep-entry-date">Published: </span><span class="entry-date"><abbr class="published" title="2011-05-26T11:10:40+0100">May 26, 2011</abbr></span></div><!-- .entry-meta -->
					<div class="entry-content">
<p>This is the first in a series of posts about the design and implementation of a search engine for Boards.ie.</p>
<p>Boards.ie recently launched a new search engine &#8211; <a href="http://www.boards.ie/search/">http://www.boards.ie/search/</a> &#8211; which is built upon Amazon Web Services using Solr with PHP as the glue.</p>
<p>Currently, Boards.ie users are searching nearly 30 million posts almost a million times a month.</p>
<h3>A little background</h3>
<p>Solr has been used in production by Distilled Media (formerly the Daft Media Group) for a couple of years now, first being tested on LetsRent.ie, then for powering the maps functionality on Daft.ie, and even more recently  as the core technology for the relaunch of Adverts.ie.</p>
<p>Boards.ie&#8217;s usage has been an interesting look into the future for Daft.ie and Adverts.ie; with nearly 26 million posts &#8211; &#8220;documents&#8221; in Solr nomenclature &#8211; and growing by more than a million again every month, it presents a challenge in providing a reliable, affordable, relevant and fast search solution to our users.</p>
<p>Boards.ie has relied on MySQL&#8217;s &#8220;Fulltext&#8221; search as long as it has been using MySQL (forever). As time has passed, more and more restrictions had to be placed on search in order to keep it online, and the sheer volume of data was making results less and less useful to people well used to using Google search.</p>
<p>There have been a number of challenges to solve along the way:</p>
<h3>Can we make search faster and more relevant with what we have already?</h3>
<p>This is sort of an obvious question, but we didn&#8217;t want to jump the gun and leap into an entirely new technology stack if it were possible for us to overhaul what was currently there.</p>
<p>The answer was not particularly straight forward, but any solution that involved keeping the MySQL fulltext engine as our primary search system involved a lot of new beefy hardware and a lot of the same slowness, punting relevance issues down the line. As a result, we decided that it was not a realistic option.</p>
<h3>Which search technology should we use?</h3>
<p>There were only a couple of choices available to us when we started working on this project. First, we wanted to use Open Source &#8211; there are plenty of good reasons to choose either open source or proprietary software depending on your requirements, and we have experience with both. We wanted the flexibility to hack away at what we were using and share back to the community where possible. We wanted to be able to scale horizontally without worrying about <a href="http://www.codinghorror.com/blog/2009/06/scaling-up-vs-scaling-out-hidden-costs.html">skyrocketing licensing costs</a>. We wanted access to the huge amount of expertise and goodwill that comes with open source projects, as well as experimental work done by other developers.</p>
<p>It also had to be compatible with the rest of our infrastructure and fit with our areas of experience &#8211; we&#8217;re pretty evenly split between FreeBSD and Linux on the infrastructure side; we didn&#8217;t want to introduce an entirely new stack (Microsoft) if it could be avoided.</p>
<p>There were two major options for us as a result, SphinxSearch and Apache Solr. SphinxSearch appeared to have successful deployments with vBulletin (our forum software), but all the experience in the Distilled Group was with Solr. Daft.ie had already deployed successful Solr installations, so we decided to go with what we had some experience with.</p>
<h3>What infrastructure should we use?</h3>
<p>We had the option of building using our own hardware, or making the leap to introducing cloud infrastructure. Moving partially into the cloud introduced a data transportation issue &#8211; how were we going to get data into the cloud while keeping our core infrastructure in Digiweb? Latency and data transfer costs were likely to be show stoppers. Amazon had recently introduced a new service in beta, Simple Notification Service (SNS). We were pretty sure we could combine this with their Simple Queue Service (SQS) to create a scalable message routing and queuing system for posts. With a few hiccups and some conversation with Amazon along the way, we were successful. As it turns out, getting the data out of our core infrastructure and into Amazon is the cheapest component of the entire operation. For the tens of thousands of messages we send to Amazon on a daily basis, we&#8217;re billed a couple of dollars a month.</p>
<h3>What are the tradeoffs?</h3>
<p>There are always tradeoffs.</p>
<p>The advantages and disadvantages of SQL and NoSQL solutions has been <a href="http://highscalability.com/">covered at length</a>, I&#8217;ll just highlight the areas that were significant for us.</p>
<p>With MySQL, our data was/is <a href="http://theryanking.com/entries/2010/04/29/potential-consistency/">potentially consistent</a>. For our usage, it is consistent enough for us to call it the canonical source of our data. Occasionally it chews up a post or thread, but rarely one that can not be rewritten.</p>
<p>The information is also effectively instantly available upon submission. There&#8217;s a lag of up to a couple of seconds occasionally as the data waits to propagate across our MySQL cluster due to an extended lock of some sort, but it&#8217;s generally not a particularly noticeable to the average user.</p>
<p>With the new search system we have sacrificed some consistency and how immediately data is made available to the searcher. For instance, posts sometimes (more frequently than with MySQL) do not make it into the search system. There is multiple redundancy built into the system to limit this, but occasionally a full resynchronization is required. We judged this to be an acceptable cost.</p>
<p>Immediacy has been sacrificed such that it usually takes about 2-5 minutes for a new post or update to an old one to become available in searches, occasionally an hour, infrequently a day, and very infrequently a couple of months (relating back to consistency). We determined that the normal search profile does not require the absolute newest data, only the most relevant.</p>
<p>At the time we made these decisions, losing real time search was the one I was least happy about, for most users it does not appear to be a concern. In hindsight it&#8217;s almost obvious why &#8211; Boards.ie is a gigantic repository of historical information. The value is in being able to search this rich back catalogue of conversation, opinion and information, not just the most recent.</p>
<p>Even at that, recency is only sacrificed when measured in seconds.</p>
<h3>Architectural choice</h3>
<p>As useful as Solr has been for us, it&#8217;s a bit of a black box in our architecture. Trying to run Solr through a debugger remotely is a gigantic pain in the arse and not something I had much success with. Fortunately, the Jetty error logs are enough to illuminate most problems:</p>
<ul>
<li>Memory management. It&#8217;s perhaps unfair to take issue with Solr over this &#8211; after all, it&#8217;s a far cry from MySQL&#8217;s famously labyrinthine memory usage configuration options, and Solr&#8217;s problems are really the restrictions of the JVM &#8211; but it feels like a single purpose machine with one major application should be able to figure out how much RAM to dedicate to disk cache and how much the application should get for optimal performance.</li>
<li>XML everywhere. It&#8217;s inescapable, and again, this can be ascribed to Java culture, but damn.</li>
<li>Fixed schema. I suppose this is an ideological argument, but during development this was tedious.</li>
<li>The book is two inches thick and <em>you need to know it</em>. If you&#8217;re building a search service that you expect to take a lot of traffic and contain a lot of documents (why else would you be interested, right?) you will simply have to know all (or at least a good chunk of) the features, quirks, optimizations and architectural choices.</li>
</ul>
<p>Solr is now a pretty well field-tested application in Distilled, and I&#8217;m pretty sure I could rapidly prototype an installation and have it up and running in production inside a week for another site, but I would prefer to investigate <a href="http://www.elasticsearch.org/">ElasticSearch</a> the next time I am revisiting search options.</p>
<h3>Further development</h3>
<p>During the course of development, I wrote a small node.js server to speed up the relay of post data from our web servers to Amazon SNS. Due to the limitations of deploying node.js on our FreeBSD architecture at the time, this system is, unfortunately, yet to be implemented. Once it is, however, write operations on the site should speed up noticeably for end users. Once this is up and running and has the bugs ironed out, it will be released as an open source project on github.</p>
<p>A side effect of this is that I contributed some code to the <a href="https://github.com/livelycode/aws-lib">AWS Library node.js project</a>, something I would like to continue doing.</p>
<p>I have also amended chunks of the <a href="http://code.google.com/p/solr-php-client/">Solr PHP client</a> with a sharded Solr deployment in mind, but it&#8217;s quite clunky and I would prefer to have another stab at it, maybe writing my own Solr PHP client and making it available.</p>
<p>In the next posts on this topic, I plan to dive more deeply into the specifics of our implementation, and hopefully release some code in tandem.</p>

										</div><!-- .entry-content -->
					<div class="entry-utility"><span class="cat-links">Posted in <a href="../../blog/category/technology/index.html" rel="category tag">Technology</a></span> <span class="meta-sep meta-sep-tag-links">|</span> <span class="comments-link comments-closed-link">Comments closed</span></div><!-- .entry-utility -->
				</div><!-- #post -->

			
				<div id="post-10350" class="post-10350 post type-post status-publish format-standard hentry category-technology"><h2 class="entry-title"><a href="../../blog/technology/ec2-create-ami-from-a-running-instance/index.html" title="Permalink to EC2: Create AMI from a running instance" rel="bookmark">EC2: Create AMI from a running instance</a></h2>
<div class="entry-meta"><span class="meta-prep meta-prep-author">By </span><span class="author vcard"><a class="url fn n" href="../../blog/author/duggan/index.html" title="View all posts by Ross">Ross</a></span><span class="meta-sep meta-sep-entry-date"> | </span><span class="meta-prep meta-prep-entry-date">Published: </span><span class="entry-date"><abbr class="published" title="2011-01-13T10:45:25+0100">January 13, 2011</abbr></span></div><!-- .entry-meta -->
					<div class="entry-content">
<p>Log into the AWS web console, find the instance you want to create an AMI from, right click and select &#8220;Create Image (EBS AMI)&#8221;. Follow the wizard.</p>
<p><a href="../../blog/technology/ec2-create-ami-from-a-running-instance/attachment/create_ami_from_instance_resized/index.html" rel="attachment wp-att-10358"><img src="../../wp-content/uploads/2011/01/create_ami_from_instance_resized.png" alt="" title="create_ami_from_instance_resized" width="585" height="593" class="aligncenter size-full wp-image-10358" /></a></p>
<p>All the top results in Google are for <a href="http://alestic.com/2009/06/ec2-ami-bundle">The Long Way™</a> to do this. The Long Way has a bunch of useful things to take into consideration (security, for example), but the actual process of creating an AMI from a running instance has been made simpler by Amazon in the last few months. </p>
<p>Right-click context menus in web pages aren&#8217;t the most obvious metaphor for people who have been using the web for a number of years. I know people new to EC2 who have completely missed this and could have saved themselves some time. Hopefully this will bubble up and save people a half hour or so <img src="../../wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>

										</div><!-- .entry-content -->
					<div class="entry-utility"><span class="cat-links">Posted in <a href="../../blog/category/technology/index.html" rel="category tag">Technology</a></span> <span class="meta-sep meta-sep-tag-links">|</span> <span class="comments-link comments-closed-link">Comments closed</span></div><!-- .entry-utility -->
				</div><!-- #post -->

			
				<div id="post-9821" class="post-9821 post type-post status-publish format-standard hentry category-technology"><h2 class="entry-title"><a href="../../blog/technology/gender-breakdown-for-software-development-in-ireland/index.html" title="Permalink to Gender breakdown for software development in Ireland" rel="bookmark">Gender breakdown for software development in Ireland</a></h2>
<div class="entry-meta"><span class="meta-prep meta-prep-author">By </span><span class="author vcard"><a class="url fn n" href="../../blog/author/duggan/index.html" title="View all posts by Ross">Ross</a></span><span class="meta-sep meta-sep-entry-date"> | </span><span class="meta-prep meta-prep-entry-date">Published: </span><span class="entry-date"><abbr class="published" title="2011-01-03T10:30:22+0100">January 3, 2011</abbr></span></div><!-- .entry-meta -->
					<div class="entry-content">
<p>This post was inspired by <a href="http://blog.ted.com/2010/12/21/why-we-have-too-few-women-leaders-sheryl-sandberg-on-ted-com/">this TED talk from Sheryl Sandberg</a>, which reminded me of <a href="http://blog.jolieodell.com/2010/09/07/women-in-tech/">this brilliant blog post by Jolie O&#8217;Dell</a>. The whole <a href="http://www.google.ie/search?hl=en&amp;q=women+in+tech">women in tech</a> thing is something which interests me (as a techie, as well as a human being), and there are loads of <a href="http://molliesblog.wordpress.com/2010/11/30/women-in-web-development-do-the-numbers-really-matter/">great</a> <a href="http://www.audreywatters.com/2010/09/05/ambient-un-belonging-women-and-tech-startups/">discussions</a> (and terrible ones) about it.</p>
<p>Have been trying to figure out a good way to get an idea of the size and gender breakdown of the somewhat nebulous software development community in Ireland. I&#8217;ve settled on LinkedIn as probably the best way to figure this out, Facebook appears to be useless for it (despite having that information). I want to compare these to the official numbers provided by government and other agencies to see how they measure up, though it involves a good few caveats.</p>
<p>These numbers are at least interesting to play around with. I suggest trying out LinkedIn&#8217;s <a href="https://www.linkedin.com/ads">DirectAds system</a> yourself; don&#8217;t have to pay to get to the &#8220;targetting&#8221; stuff at step 2.</p>
<p>Currently, LinkedIn lists 416,030 people as working in <strong>Ireland</strong>. <a href="http://www.forfas.ie/media/egfsn100701-national_skills_bulletin_2010.pdf">The National Skills Bulletin 2010 (pdf)</a> states that there were 1.88 million people working in full or part time employment in Q4 2009. As that number has probably only gone down since then, I think LinkedIn has a pretty sizeable chunk of the workforce listed; maybe more than a quarter of the total, though probably a heavy bias towards networking-enabled industries with strong computer usage.</p>
<p>Of those listed on LinkedIn, 37,322 describe themselves as working in &#8220;<strong>Engineering</strong>&#8221; or &#8220;<strong>Information Technology</strong>&#8221; &#8211; two quite broad descriptions, both of which will include a portion of people who have absolutely nothing to do with software development. At this level, the breakdown is 28,387 male, 6,722 female. Looks to be about 2,213 who have not listed gender.</p>
<p>It gets tricky at this point &#8211; if you wish to breakdown by <strong>Industry</strong>, you&#8217;ve got a max of ten to choose from a list of hundreds, and techies work in almost every industry. To try and extract the main corpus of &#8220;software developers&#8221; from the Industry section, I did a quick poll of my own LinkedIn connections and chose: <strong>Computer Hardware</strong>, <strong>Computer Software</strong>, <strong>Computer Networking</strong>, <strong>Internet</strong>, <strong>Information Technology and Services</strong>, <strong>Computer &#038; Network Security</strong>, <strong>Wireless</strong>, <strong>Online Media</strong>, <strong>Publishing and Information Services</strong>. I figure this cuts out most of the mechanical/bio/pharma engineers.</p>
<p>This gives me 13,080 people in total. The gender breakdown for this is 10,141 male, 2,148 female (791 unknown).</p>
<p>To see how these numbers match up with regular LinkedIn search (if I were looking for software people), I searched for people in Ireland with a couple of different keywords as their <em>current</em> job title. &#8220;<strong>Engineer</strong>&#8221; turned up 13,848 (24,446 including past jobs). &#8220;<strong>Systems Administrator</strong>&#8221; turned up 330 (997 including past jobs). &#8220;<strong>Developer</strong>&#8221; turned up 2,930 (6,414 including past jobs) &#8211; not sure how many of these might be &#8220;business developer, property developer&#8221; or similar, but the first few pages of results looked about right. &#8220;<strong>Operations</strong>&#8221; turned up too many misses (COO, ad operations, etc), so haven&#8217;t included it.</p>
<p>This tots up to about 17,108 people. I might guess that my DirectAds version of this is missing 4,028 people who have listed themselves as being in finance, banking, etc, or engineers who have nothing to do with software. Either way, not totally disparate figures.</p>
<p>So, does 13,000 sound like a good ballpark figure for the number of software developers in Ireland? 84% male vs 16% female?<br />
<a href="http://www.careersportal.ie/careers/detail.php?job_id=403">CareersPortal.ie has some information</a> compiled from the CSO and the National Skills Bulletin 2010. They conclude that there are 9,000 people employed in software development in Ireland, and that the gender breakdown is 89% male, 11% female. Interesting that while there&#8217;s a difference in the &#8220;totals&#8221; for each, the percentages are pretty close. Considering the time gap between the Forfás data (about a year old, sometimes more) and the LinkedIn (almost realtime), I think those numbers are a pretty good indicator.</p>

										</div><!-- .entry-content -->
					<div class="entry-utility"><span class="cat-links">Posted in <a href="../../blog/category/technology/index.html" rel="category tag">Technology</a></span> <span class="meta-sep meta-sep-tag-links">|</span> <span class="comments-link comments-closed-link">Comments closed</span></div><!-- .entry-utility -->
				</div><!-- #post -->

			
				<div id="post-9467" class="post-9467 post type-post status-publish format-standard hentry category-codetry"><h2 class="entry-title"><a href="../../blog/codetry/dublin-bus-route-statuses/index.html" title="Permalink to Dublin Bus route statuses" rel="bookmark">Dublin Bus route statuses</a></h2>
<div class="entry-meta"><span class="meta-prep meta-prep-author">By </span><span class="author vcard"><a class="url fn n" href="../../blog/author/duggan/index.html" title="View all posts by Ross">Ross</a></span><span class="meta-sep meta-sep-entry-date"> | </span><span class="meta-prep meta-prep-entry-date">Published: </span><span class="entry-date"><abbr class="published" title="2010-12-21T23:33:59+0100">December 21, 2010</abbr></span></div><!-- .entry-meta -->
					<div class="entry-content">
<p>I&#8217;ve thrown together a little hack that gives current Dublin Bus route status information in JSON format.</p>
<p>Endpoint: <code>http://rossduggan.ie/stuff/bus/</code></p>
<p>Simply calling the endpoint will return a JSON object of all bus routes and their associated statuses.</p>
<p>Append <code>?route=x</code> to the endpoint and you&#8217;ll get just the results for the route specified (or what it thinks you mean if it doesn&#8217;t understand the route):</p>
<pre>GET http://rossduggan.ie/stuff/bus/?route=15</pre>
<p>You&#8217;ll get something like this:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="javascript" style="font-family:monospace;"><span style="color: #009900;">&#123;</span>
	<span style="color: #3366CC;">&quot;status&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;Operating on normal route.&quot;</span><span style="color: #339933;">,</span>
	<span style="color: #3366CC;">&quot;match&quot;</span><span style="color: #339933;">:</span>
		<span style="color: #009900;">&#123;</span>
			<span style="color: #3366CC;">&quot;exact&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;15&quot;</span>
		<span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span></pre></td></tr></table></div>

<p>If you look for one of the routes that Dublin Bus merge together (for whatever reason; 42A and 42B are like this):</p>
<pre>GET http://rossduggan.ie/stuff/bus/?route=42a</pre>
<p>You&#8217;ll get:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="javascript" style="font-family:monospace;"><span style="color: #009900;">&#123;</span>
	<span style="color: #3366CC;">&quot;status&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;Unable to serve Edenmore or Harmondstown. Operating via Springdale Rd and Tonlagee Rd.&quot;</span><span style="color: #339933;">,</span>
	<span style="color: #3366CC;">&quot;match&quot;</span><span style="color: #339933;">:</span>
		<span style="color: #009900;">&#123;</span>
			<span style="color: #3366CC;">&quot;closest&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;42a<span style="color: #000099; font-weight: bold;">\/</span>b&quot;</span>
		<span style="color: #009900;">&#125;</span>
<span style="color: #009900;">&#125;</span></pre></td></tr></table></div>

<p>The reason for this is because I threw this together in about 30 minutes as an excuse to familiarize myself with XPath, and I thought some error handling would be better than no error handling <img src="../../wp-includes/images/smilies/simple-smile.png" alt=":)" class="wp-smiley" style="height: 1em; max-height: 1em;" /></p>
<p>Once the bad weather goes away this will probably break since Dublin Bus will change the layout of their notices, but I&#8217;ll try to keep it functional for as long as I can. I have a horrible feeling the data source is being copied and pasted by whomever is maintaining it from an old copy of MS Word into a WYSIWYG editor for the dublinbus.ie homepage.</p>
<p><strong>In usage:</strong></p>
<p>I pushed this out on Twitter at <a href="http://twitter.com/#!/duggan/status/17292448283758592">about 7:30pm</a>, and by <a href="http://twitter.com/#!/walmc/status/17330009869918208">about 10:00pm</a> <a href="http://twitter.com/#!/walmc">@walmc</a> had already thrown together <a href="https://github.com/wal/bus-growler">a neat little node.js growl notifier</a> using it!</p>

										</div><!-- .entry-content -->
					<div class="entry-utility"><span class="cat-links">Posted in <a href="../../blog/category/codetry/index.html" rel="category tag">Codetry</a></span> <span class="meta-sep meta-sep-tag-links">|</span> <span class="comments-link comments-closed-link">Comments closed</span></div><!-- .entry-utility -->
				</div><!-- #post -->

			
				<div id="post-8567" class="post-8567 post type-post status-publish format-standard hentry category-codetry category-technology"><h2 class="entry-title"><a href="../../blog/codetry/links-for-friday-3rd-december-2010/index.html" title="Permalink to Links for Friday, 3rd December 2010" rel="bookmark">Links for Friday, 3rd December 2010</a></h2>
<div class="entry-meta"><span class="meta-prep meta-prep-author">By </span><span class="author vcard"><a class="url fn n" href="../../blog/author/duggan/index.html" title="View all posts by Ross">Ross</a></span><span class="meta-sep meta-sep-entry-date"> | </span><span class="meta-prep meta-prep-entry-date">Published: </span><span class="entry-date"><abbr class="published" title="2010-12-03T21:09:21+0100">December 3, 2010</abbr></span></div><!-- .entry-meta -->
					<div class="entry-content">
<p><a href="http://www.conroyp.com/2010/11/30/extending-twitter-web-interface-adding-imgur-previews/">Paul Conroy has written a little bookmarlet to add imgur previews to the Twitter web interface, and has a detailed explanation of how he&#8217;s done it.</a></p>
<p><a href="http://randfishkin.com/blog/58/algorithm-crowd-not-enough">The Algorithm + the Crowd is not enough.</a> I have a response post gestating.</p>
<p><a href="http://lesswrong.com/lw/372/defecting_by_accident_a_flaw_common_to_analytical/">Defecting by Accident, A Flaw Common to Analytical People.</a> This is &#8220;How to Win Friends and Influence People&#8221; digested into a blog post for nerds.</p>
<p><a href="http://theryanking.com/entries/2010/04/29/potential-consistency/">Potentially Consistent</a>, or why your MySQL master-slave setup is not &#8220;Eventually Consistent&#8221;.</p>
<p><a href="http://nathanmarz.com/blog/clojure-or-how-i-learned-to-stop-worrying-and-love-the-paren.html">This post</a> and <a href="http://sna-projects.com/blog/2010/11/clojure-at-backtype/">this video</a> are a good introduction to Clojure.</p>
<p><a href="http://sna-projects.com/kafka/">Kafka</a> is a roll-your-own <a href="http://aws.amazon.com/sns/">SNS</a> from the guys at LinkedIn (though I&#8217;m sure they wouldn&#8217;t describe it that way).</p>
<p><a href="http://phpadvent.org/201002">First class APIs</a>, by <a href="http://twitter.com/h">@h</a>.</p>
<p><a href="http://couchapp.org/page/what-is-couchapp">What the HTTP is CouchApp?</a></p>
<p><a href="http://www.pehub.com/89732/engineering-shortage-is-real-former-digg-engineer-gets-7-offers-takes-one-for-150k/">Engineering Shortage Is Real. Former Digg Engineer Gets 7 Offers, Takes One for $150K.</a> Good news for software engineers.</p>
<p><a href="http://benthebodyguard.com/">This is a really cool take on introducing an application</a>.</p>

										</div><!-- .entry-content -->
					<div class="entry-utility"><span class="cat-links">Posted in <a href="../../blog/category/codetry/index.html" rel="category tag">Codetry</a>, <a href="../../blog/category/technology/index.html" rel="category tag">Technology</a></span> <span class="meta-sep meta-sep-tag-links">|</span> <span class="comments-link comments-closed-link">Comments closed</span></div><!-- .entry-utility -->
				</div><!-- #post -->

			
				<div id="post-7249" class="post-7249 post type-post status-publish format-standard hentry category-codetry"><h2 class="entry-title"><a href="../../blog/codetry/extracting-information-from-a-lot-of-images-on-disk-using-find/index.html" title="Permalink to Extracting information from a lot of images on disk using find" rel="bookmark">Extracting information from a lot of images on disk using find</a></h2>
<div class="entry-meta"><span class="meta-prep meta-prep-author">By </span><span class="author vcard"><a class="url fn n" href="../../blog/author/duggan/index.html" title="View all posts by Ross">Ross</a></span><span class="meta-sep meta-sep-entry-date"> | </span><span class="meta-prep meta-prep-entry-date">Published: </span><span class="entry-date"><abbr class="published" title="2010-11-25T14:10:17+0100">November 25, 2010</abbr></span></div><!-- .entry-meta -->
					<div class="entry-content">
<p>If you need to extract information from a large number of images on disk (and you&#8217;re using a *nix system), you could do worse than using <a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?find"><code>find</code></a> with <a href="http://www.imagemagick.org/script/command-line-tools.php">Imagemagick&#8217;s command line tools</a>.</p>
<p>If you&#8217;re unfamiliar with <code>find</code>, I&#8217;d recommend reading <a href="http://www.linux.ie/newusers/beginners-linux-guide/find.php">the beginners guide on Linux.ie</a>. It has terse and initially daunting syntax, but is one of the most powerful tools available to *nix users and proficiency with it is massively useful, especially for sysadmins and developers.</p>
<p>Here&#8217;s how you&#8217;d go about finding all jpg, gif, png and bmp images in a directory, excluding anything in a &#8220;thumbs&#8221; directory, getting their dimensions, compression type and filesize, separate each piece of information with a comma and writing it our to a file:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">find</span> . <span style="color: #660033;">-path</span> <span style="color: #ff0000;">&quot;*/thumbs/*&quot;</span> <span style="color: #660033;">-prune</span> <span style="color: #660033;">-o</span> <span style="color: #660033;">-type</span> f \<span style="color: #7a0874; font-weight: bold;">&#40;</span>\
 <span style="color: #660033;">-iname</span> <span style="color: #ff0000;">&quot;*.jp*g&quot;</span> <span style="color: #660033;">-o</span> <span style="color: #660033;">-iname</span> <span style="color: #ff0000;">&quot;*.gif&quot;</span> <span style="color: #660033;">-o</span> <span style="color: #660033;">-iname</span> <span style="color: #ff0000;">&quot;*.png&quot;</span> <span style="color: #660033;">-o</span> <span style="color: #660033;">-iname</span> <span style="color: #ff0000;">&quot;*.bmp&quot;</span>  \<span style="color: #7a0874; font-weight: bold;">&#41;</span>\
  <span style="color: #660033;">-exec</span> identify <span style="color: #660033;">-format</span> <span style="color: #ff0000;">&quot;%i,%wx%h,%m,%[size]<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span> <span style="color: #7a0874; font-weight: bold;">&#123;</span><span style="color: #7a0874; font-weight: bold;">&#125;</span> + <span style="color: #000000; font-weight: bold;">&gt;</span> <span style="color: #000000; font-weight: bold;">/</span>tmp<span style="color: #000000; font-weight: bold;">/</span>images.info</pre></td></tr></table></div>

<p>Broken down:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #c20cb9; font-weight: bold;">find</span> .</pre></td></tr></table></div>

<p>Searches in the current directory (.) &#8211; you can specify a path just as easily (<code>find /path/to/directory/</code>)</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #660033;">-path</span> <span style="color: #ff0000;">&quot;*/thumbs/*&quot;</span> <span style="color: #660033;">-prune</span></pre></td></tr></table></div>

<p>Exclude (prune) paths that match the preceding pattern. You can specify this multiple times (or not at all).</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #660033;">-o</span></pre></td></tr></table></div>

<p>This is the <code>OR</code> operator. <code>AND</code> is implied between each modifier if left out.</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #660033;">-type</span> f</pre></td></tr></table></div>

<p>Specifies that we&#8217;re looking for a file (a directory would be <code>-type d</code>)</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">\<span style="color: #7a0874; font-weight: bold;">&#40;</span>\
 <span style="color: #660033;">-iname</span> <span style="color: #ff0000;">&quot;*.jp*g&quot;</span> <span style="color: #660033;">-o</span> <span style="color: #660033;">-iname</span> <span style="color: #ff0000;">&quot;*.gif&quot;</span> <span style="color: #660033;">-o</span> <span style="color: #660033;">-iname</span> <span style="color: #ff0000;">&quot;*.png&quot;</span> <span style="color: #660033;">-o</span> <span style="color: #660033;">-iname</span> <span style="color: #ff0000;">&quot;*.bmp&quot;</span> 
 \<span style="color: #7a0874; font-weight: bold;">&#41;</span>\</pre></td></tr></table></div>

<p><code>(</code> opens a group, <code>)</code> closes it. The backslashes escape the parentheses and newline (I&#8217;ve just used the newline to make it more readable). The <code>-iname</code> directive specifies a case-insensitive filename, in this case matching file extensions. The usage of the <code>-o</code> operator is more obvious here, as without it we&#8217;d be asking that each file match .jpg AND .png AND .gif &#8211; which wouldn&#8217;t really work.</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #660033;">-exec</span> ... <span style="color: #7a0874; font-weight: bold;">&#123;</span><span style="color: #7a0874; font-weight: bold;">&#125;</span> +</pre></td></tr></table></div>

<p>This executes a command on each item found, the &#8220;current&#8221; found item being contained in the <code>{}</code> placeholder. <code>+</code> is the terminator in this case. <code>\;</code> can also be used (again, backslash as escape), but  the + terminator batches results and performs much better with large numbers of files. This is roughly equivalent to piping into <a href="http://unixhelp.ed.ac.uk/CGI/man-cgi?xargs"><code>xargs</code></a> on older systems which may not have the + terminator available (pre-2005 builds).</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;">identify <span style="color: #660033;">-format</span> <span style="color: #ff0000;">&quot;%i,%wx%h,%m,%[size]<span style="color: #000099; font-weight: bold;">\n</span>&quot;</span></pre></td></tr></table></div>

<p>In this case, the command we&#8217;re executing is Imagemagick&#8217;s <a href="http://www.imagemagick.org/script/identify.php"><code>identify</code></a> tool. There&#8217;s quite a lot of information available here, it&#8217;s prudent to use the <code>-format</code> option to limit the information to what you need. Helpfully, there&#8217;s <a href="http://www.imagemagick.org/script/escape.php">a list of escape characters</a> to let you know what can be extracted.<br />
Here, I&#8217;m getting the file path (<code>%i</code>), the width(<code>%w</code>), the height (<code>%h</code>) and putting in a literal &#8216;<code>x</code>&#8216; to separate them. After that, there&#8217;s the compression type (<code>%m</code>) and the filesize in KB (<code>%[size]</code>). I separate each value with a literal comma and ending each line with a <code>newline</code> (<code>\n</code>).</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="bash" style="font-family:monospace;"><span style="color: #000000; font-weight: bold;">&gt;</span> <span style="color: #000000; font-weight: bold;">/</span>tmp<span style="color: #000000; font-weight: bold;">/</span>images.info</pre></td></tr></table></div>

<p>Finally, rather than output this information to the screen (by default), we direct the output into a file in the <code>tmp</code> directory. If there are a lot of files to process, you won&#8217;t immediately see data start to pour in here, as it&#8217;ll be batched using the + terminator mentioned before. You&#8217;ll probably see it populate in lumps of several thousand.<br />
You should get a file containing results that look something like this:</p>

<div class="wp_syntax"><table><tr><td class="code"><pre class="c" style="font-family:monospace;">.<span style="color: #339933;">/</span>images<span style="color: #339933;">/</span>3tm9wzz4z9kzd51168cef0a9cc77ca616916128aaa3d.<span style="color: #202020;">JPG</span><span style="color: #339933;">,</span>640x480<span style="color: #339933;">,</span>JPEG<span style="color: #339933;">,</span>22.8KB
.<span style="color: #339933;">/</span>images<span style="color: #339933;">/</span>226te3jc3m85519d6348418bdde11ee08d77ffd338ff.<span style="color: #202020;">JPG</span><span style="color: #339933;">,</span>626x639<span style="color: #339933;">,</span>JPEG<span style="color: #339933;">,</span>44.6KB
.<span style="color: #339933;">/</span>images<span style="color: #339933;">/</span>2s9262f4uix2e26113b8007a2a3dfadb6aa3fa7aa0ee.<span style="color: #202020;">JPG</span><span style="color: #339933;">,</span>384x288<span style="color: #339933;">,</span>JPEG<span style="color: #339933;">,</span>36.6KB
.<span style="color: #339933;">/</span>images<span style="color: #339933;">/</span>3572wcuya3pi3fb0f68eff3d6104a7b94d5725b2b526.<span style="color: #202020;">jpg</span><span style="color: #339933;">,</span>480x640<span style="color: #339933;">,</span>JPEG<span style="color: #339933;">,</span>50.9KB
.<span style="color: #339933;">/</span>images<span style="color: #339933;">/</span>5wby49rxay9lcc890e914b4d52e9909700f8d5227bb9.<span style="color: #202020;">jpg</span><span style="color: #339933;">,</span>354x142<span style="color: #339933;">,</span>JPEG<span style="color: #339933;">,</span>11.9KB
.<span style="color: #339933;">/</span>images<span style="color: #339933;">/</span>1c6cf3icti8v9c2b997592c0c7c51c25e900969eaec4.<span style="color: #202020;">JPG</span><span style="color: #339933;">,</span>478x640<span style="color: #339933;">,</span>JPEG<span style="color: #339933;">,</span>41.4KB
.<span style="color: #339933;">/</span>images<span style="color: #339933;">/</span>53h1y0x1q37q22d65cc682f6d7994db2510cab013ddf.<span style="color: #202020;">JPG</span><span style="color: #339933;">,</span>478x640<span style="color: #339933;">,</span>JPEG<span style="color: #339933;">,</span>28.1KB
.<span style="color: #339933;">/</span>images<span style="color: #339933;">/</span>4r8ck3kn1ezi809f7d4a63c0fb95b4f07053641bd8d3.<span style="color: #202020;">JPG</span><span style="color: #339933;">,</span>478x640<span style="color: #339933;">,</span>JPEG<span style="color: #339933;">,</span>33.5KB
.<span style="color: #339933;">/</span>images<span style="color: #339933;">/</span>156m118zdn7n4a10fef7d6c88067482f0803db2837e6.<span style="color: #202020;">JPG</span><span style="color: #339933;">,</span>478x640<span style="color: #339933;">,</span>JPEG<span style="color: #339933;">,</span>25.5KB</pre></td></tr></table></div>

<p>If you spot any typos, mistakes or ways you think this might be improved, feel free to let me know.</p>

										</div><!-- .entry-content -->
					<div class="entry-utility"><span class="cat-links">Posted in <a href="../../blog/category/codetry/index.html" rel="category tag">Codetry</a></span> <span class="meta-sep meta-sep-tag-links">|</span> <span class="comments-link comments-closed-link">Comments closed</span></div><!-- .entry-utility -->
				</div><!-- #post -->

			
				<div id="post-527" class="post-527 post type-post status-publish format-standard hentry category-technology"><h2 class="entry-title"><a href="../../blog/technology/links-for-7th-april-2010/index.html" title="Permalink to Links for 7th April, 2010" rel="bookmark">Links for 7th April, 2010</a></h2>
<div class="entry-meta"><span class="meta-prep meta-prep-author">By </span><span class="author vcard"><a class="url fn n" href="../../blog/author/duggan/index.html" title="View all posts by Ross">Ross</a></span><span class="meta-sep meta-sep-entry-date"> | </span><span class="meta-prep meta-prep-entry-date">Published: </span><span class="entry-date"><abbr class="published" title="2010-04-07T10:30:37+0100">April 7, 2010</abbr></span></div><!-- .entry-meta -->
					<div class="entry-content">
<p><a href="http://twitter.com/Jenseninman">Leslie Jensen-Inman</a> via <a href="http://www.alistapart.com/articles/contrast-is-king/">A List Apart,  examines the use of colour</a>. Worth a read, especially for the tools she highlights:</p>
<ul>
<li><a href="http://graybit.com/">Graybit</a> &#8211; see the web as a colourblind person sees it.</li>
<li><a href="http://colorschemedesigner.com/">Color Scheme Designer</a> &#8211; impressive tool for color matching and testing.</li>
<li><a href="http://www.checkmycolours.com/">Check My Colours</a> &#8211; Checks a URL for potential contrast problems.</li>
</ul>
<p><a href="http://www.shirky.com/weblog/2010/04/the-collapse-of-complex-business-models/">Clay Shirky &#8211; &#8220;The Collapse of Complex Business Models&#8221;</a></p>
<p><a href="http://research.microsoft.com/en-us/um/cambridge/projects/terminator/">Microsoft&#8217;s TERMINATOR project</a> &#8211; solving the halting problem&#8230; for a finite number of &#8220;real&#8221; systems.</p>
<p><a href="http://twitter.com/damienkatz/status/11724131745">Damien Katz gives up on git for managing CouchDB</a>. He&#8217;s a <a href="http://www.infoq.com/presentations/katz-couchdb-and-me">smart dude</a>, hope he elaborates.</p>
<p><a href="http://www.schneier.com/blog/archives/2010/04/privacy_and_con.html">Bruce Schneier &#8211; Privacy and Control</a></p>

										</div><!-- .entry-content -->
					<div class="entry-utility"><span class="cat-links">Posted in <a href="../../blog/category/technology/index.html" rel="category tag">Technology</a></span> <span class="meta-sep meta-sep-tag-links">|</span> <span class="comments-link comments-closed-link">Comments closed</span></div><!-- .entry-utility -->
				</div><!-- #post -->

			
			<div id="nav-below" class="navigation">
                  
				<div class="nav-previous"><a href="../4/index.html" ><span class="meta-nav">&laquo;</span> Older posts</a></div>
				<div class="nav-next"><a href="../2/index.html" >Newer posts <span class="meta-nav">&raquo;</span></a></div>
							</div>	
	
				
			</div><!-- #content -->
		
			 
		
		</div><!-- #container -->


<div id="primary" class="aside main-aside">
	<ul class="xoxo">
<li id="text-373116971" class="widgetcontainer widget_text"><h3 class="widgettitle">About Me</h3>
			<div class="textwidget"><a href="//stackoverflow.com/users/105546/ross-duggan"><img src="//stackoverflow.com/users/flair/105546.png?theme=clean" width="208" height="58" alt="profile for Ross Duggan at Stack Overflow" title="profile for Ross Duggan at Stack Overflow"></a></script>
<br />
Software developer located in Cork, Ireland.
<br />Works for <a href="https://web.archive.org/web/20160304091531/https://barricade.io/">Barricade</a>. <br />Organizes <a href="https://web.archive.org/web/20130620231555/http://pubstandards.ie/">Pub Standards.</a> 
<br />
Authored <a href="http://www.noflake.org/">The Noflake Manifesto</a>.
<br />
<br />
Email: ross@duggan.ie
<br />
<br />
I run <a href="https://web.archive.org/web/20130302230003/http://www.wthax.org/">wthax.org</a> and  co-founded Ireland's first anime convention, <a href="https://web.archive.org/web/20160915162013/http://www.eirtakon.com/">EirtaKon</a>.
<br /><br /></div>
		</li>		<li id="recent-posts-2" class="widgetcontainer widget_recent_entries">		<h3 class="widgettitle">Recent Posts</h3>
		<ul>
					<li>
				<a href="../../blog/misc/in-support-of-the-outrage-machine/index.html">In Support of the Outrage Machine</a>
						</li>
					<li>
				<a href="../../blog/misc/the-web-skills-of-leonardo-da-vinci/index.html">The (Web) Skills of Leonardo da Vinci</a>
						</li>
					<li>
				<a href="../../blog/code/pontoon-a-digital-ocean-cli-and-library-in-python/index.html">Pontoon &#8211; A Digital Ocean CLI (and library) in Python</a>
						</li>
					<li>
				<a href="../../blog/programming/pivoting-yourself/index.html">Pivoting yourself</a>
						</li>
					<li>
				<a href="../../blog/code/musical-floppy-drive-maintenance-flop-py/index.html">Musical floppy drive maintenance &#8211; flop.py</a>
						</li>
				</ul>
		</li>
	</ul>
</div><!-- #primary .aside -->

<div id="secondary" class="aside main-aside">
	<ul class="xoxo">
<li id="recent-comments-2" class="widgetcontainer widget_recent_comments"><h3 class="widgettitle">Recent Comments</h3>
<ul id="recentcomments"><li class="recentcomments"><span class="comment-author-link"><a href='../../blog/technology/archiveteam-yahoo-messages-shuttering-ec2-spot-instances-megacrawl/index.html' rel='external nofollow' class='url'>ArchiveTeam + Yahoo Messages Shuttering + EC2 Spot Instances = MegaCrawl | Ross Duggan</a></span> on <a href="../../blog/code/archiveteam-yahoo-messages-followup-success/comment-page-1/index.html#comment-12917">ArchiveTeam Yahoo Messages Followup: Success</a></li><li class="recentcomments"><span class="comment-author-link"><a href='http://regulargeek.com/2013/05/13/geek-reading-may-13-2013/' rel='external nofollow' class='url'>Geek Reading May 13, 2013 | Regular Geek</a></span> on <a href="../../blog/programming/pivoting-yourself/comment-page-1/index.html#comment-11842">Pivoting yourself</a></li><li class="recentcomments"><span class="comment-author-link">Jimmy Tang</span> on <a href="../../blog/code/shell-blindness/comment-page-1/index.html#comment-9718">Shell blindness</a></li><li class="recentcomments"><span class="comment-author-link"><a href='../../blog/code/archiveteam-yahoo-messages-followup-success/index.html' rel='external nofollow' class='url'>ArchiveTeam Yahoo Messages Followup: Success | Ross Duggan</a></span> on <a href="../../blog/technology/archiveteam-yahoo-messages-shuttering-ec2-spot-instances-megacrawl/comment-page-1/index.html#comment-9511">ArchiveTeam + Yahoo Messages Shuttering + EC2 Spot Instances = MegaCrawl</a></li><li class="recentcomments"><span class="comment-author-link">TryingToHelp</span> on <a href="../../blog/technology/archiveteam-yahoo-messages-shuttering-ec2-spot-instances-megacrawl/comment-page-1/index.html#comment-9414">ArchiveTeam + Yahoo Messages Shuttering + EC2 Spot Instances = MegaCrawl</a></li></ul></li><li id="categories-2" class="widgetcontainer widget_categories"><h3 class="widgettitle">Categories</h3>
		<ul>
	<li class="cat-item cat-item-11"><a href="../../blog/category/arduino/index.html" >Arduino</a>
</li>
	<li class="cat-item cat-item-9"><a href="../../blog/category/boardsie/index.html" >Boards.ie</a>
</li>
	<li class="cat-item cat-item-5"><a href="../../blog/category/books/index.html" title="Things that are still printed on paper for the moment.">Books</a>
</li>
	<li class="cat-item cat-item-13"><a href="../../blog/category/code/index.html" >Code</a>
</li>
	<li class="cat-item cat-item-7"><a href="../../blog/category/codetry/index.html" title="Code, Poetry, Trying Code, Codetry!">Codetry</a>
</li>
	<li class="cat-item cat-item-6"><a href="../../blog/category/events/index.html" title="Stuff that happens out in the Real World.">Events</a>
</li>
	<li class="cat-item cat-item-14"><a href="../../blog/category/infrastructure/index.html" >Infrastructure</a>
</li>
	<li class="cat-item cat-item-1"><a href="../../blog/category/misc/index.html" title="Lazy day at the categorization office.">Miscellaneous</a>
</li>
	<li class="cat-item cat-item-15"><a href="../../blog/category/programming/index.html" >Programming</a>
</li>
	<li class="cat-item cat-item-8"><a href="../../blog/category/technology/index.html" title="General technology topics.">Technology</a>
</li>
		</ul>
</li><li id="linkcat-4" class="widgetcontainer widget_links"><h3 class="widgettitle">Development</h3>

	<ul class='xoxo blogroll'>
<li><a href="https://web.archive.org/web/20110513172347/http://aidanwalsh.net/" rel="contact">Aidan Walsh</a></li>
<li><a href="http://websitedoctor.com/">Alastair McDermott</a></li>
<li><a href="http://blog.benmcredmond.com/">Ben McRedmond</a></li>
<li><a href="https://web.archive.org/web/20100324220523/http://www.bytesurgery.com/">ByteSurgery</a></li>
<li><a href="https://www.mcdermottroe.com">Conor McDermottroe</a></li>
<li><a href="https://web.archive.org/web/20120114121551/http://contrast.ie/blog">Contrast</a></li>
<li><a href="https://web.archive.org/web/20081119033756/http://antidis.com/blog/">Dave Barrett</a></li>
<li><a href="http://www.apeofsteel.com/">Dave Concannon</a></li>
<li><a href="https://web.archive.org/web/20111029095317/http://blog.echolibre.com/">EchoLibre</a></li>
<li><a href="https://blog.codinghorror.com/">Jeff Atwood</a></li>
<li><a href="http://johnbreslin.com/blog">John Breslin</a></li>
<li><a href="http://taint.org/">Justin Mason</a></li>
<li><a href="https://web.archive.org/web/20110424210946/http://blog.multiblah.com/">Kevin Cannon</a></li>
<li><a href="http://stochasticgeometry.ie/">Mark Dennehy</a></li>
<li><a href="https://web.archive.org/web/20100103105858/http://mattfinucane.ie/">Matt Finucane</a></li>
<li><a href="http://www.mneylon.com/blog/">Michele Neylon</a></li>
<li><a href="https://web.archive.org/web/20090203055737/http://socialmedia.net/">SocialMedia.net</a></li>
<li><a href="http://stochasticgeometry.wordpress.com/">Stochastic Geometry</a></li>
<li><a href="https://web.archive.org/web/20100503003118/http://www.webstrong.ie/blog/">Webstrong</a></li>

	</ul>
</li>
<li id="linkcat-3" class="widgetcontainer widget_links"><h3 class="widgettitle">Recreational</h3>

	<ul class='xoxo blogroll'>
<li><a href="https://web.archive.org/web/20110307011812/http://hairyfish.org/">Ben Kenealy</a></li>
<li><a href="https://web.archive.org/web/20110724170953/http://blog.boards.ie/">Boards.ie Blog</a></li>
<li><a href="http://darraghdoyle.blogspot.com/">Darragh Doyle</a></li>
<li><a href="http://universitydiary.wordpress.com/">Ferdinand von Prondzynski</a></li>
<li><a href="http://headrambles.com/">Head Rambles</a></li>
<li><a href="https://web.archive.org/web/20110310175244/http://irishsentinel.com/">The Irish Sentinel</a></li>

	</ul>
</li>
<li id="linkcat-8" class="widgetcontainer widget_links"><h3 class="widgettitle">Technology</h3>

	<ul class='xoxo blogroll'>
<li><a href="https://web.archive.org/web/20130307031441/http://www.yourtechstuff.com/" title="Techwire">Adrian Weckler</a></li>
<li><a href="http://www.insideview.ie/">Bernie Goldbach</a></li>
<li><a href="http://mulley.net/">Damien Mulley</a></li>
<li><a href="http://siliconrepublic.com/">Silicon Republic</a></li>

	</ul>
</li>
<li id="text-434215201" class="widgetcontainer widget_text">			<div class="textwidget"></div>
		</li>
	</ul>
</div><!-- #secondary .aside -->

    </div><!-- #main -->
    
        

	<div id="footer">
    
            
        <div id="siteinfo">        

    	Powered by <a class="wp-link" href="http://wordpress.org/" title="WordPress" rel="generator">WordPress</a>. Built on the <a class="theme-link" href="http://themeshaper.com/thematic/" title="Thematic Theme Framework" rel="designer">Thematic Theme Framework</a>.    
		</div><!-- #siteinfo -->
    
    	        
	</div><!-- #footer -->
	
    </div><!-- #wrapper .hfeed -->  

<!-- Powered by WPtouch: 3.7.6 -->
</body>

<!-- Mirrored from rossduggan.ie/page/3/ by HTTrack Website Copier/3.x [XR&CO'2010], Thu, 20 Aug 2015 21:23:02 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
</html>
<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Page Caching using apc
Database Caching 1/24 queries in 0.035 seconds using memcached
Object Caching 1007/1060 objects using memcached

 Served from: rossduggan.ie @ 2015-08-20 22:22:35 by W3 Total Cache -->